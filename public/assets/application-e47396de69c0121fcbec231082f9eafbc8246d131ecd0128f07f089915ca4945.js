(function(){var t=this;(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(t);var v=t.Rails;(function(){(function(){var e;e=null,v.loadCSPNonce=function(){var t;return e=null!=(t=document.querySelector("meta[name=csp-nonce]"))?t.content:void 0},v.cspNonce=function(){return null!=e?e:v.loadCSPNonce()}}).call(this),function(){var r,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,v.matches=function(t,e){return null!=e.exclude?n.call(t,e.selector)&&!n.call(t,e.exclude):n.call(t,e)},r="_ujsData",v.getData=function(t,e){var n;return null!=(n=t[r])?n[e]:void 0},v.setData=function(t,e,n){return null==t[r]&&(t[r]={}),t[r][e]=n},v.$=function(t){return Array.prototype.slice.call(document.querySelectorAll(t))}}.call(this),function(){var n,r,i;n=v.$,i=v.csrfToken=function(){var t;return(t=document.querySelector("meta[name=csrf-token]"))&&t.content},r=v.csrfParam=function(){var t;return(t=document.querySelector("meta[name=csrf-param]"))&&t.content},v.CSRFProtection=function(t){var e;if(null!=(e=i()))return t.setRequestHeader("X-CSRF-Token",e)},v.refreshCSRFTokens=function(){var t,e;if(e=i(),t=r(),null!=e&&null!=t)return n('form input[name="'+t+'"]').forEach(function(t){return t.value=e})}}.call(this),function(){var i,e,o,n;o=v.matches,"function"!=typeof(i=window.CustomEvent)&&((i=function(t,e){var n;return(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}).prototype=window.Event.prototype,n=i.prototype.preventDefault,i.prototype.preventDefault=function(){var t;return t=n.call(this),this.cancelable&&!this.defaultPrevented&&Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),t}),e=v.fire=function(t,e,n){var r;return r=new i(e,{bubbles:!0,cancelable:!0,detail:n}),t.dispatchEvent(r),!r.defaultPrevented},v.stopEverything=function(t){return e(t.target,"ujs:everythingStopped"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},v.delegate=function(t,n,e,r){return t.addEventListener(e,function(t){var e;for(e=t.target;e instanceof Element&&!o(e,n);)e=e.parentNode;if(e instanceof Element&&!1===r.call(e,t))return t.preventDefault(),t.stopPropagation()})}}.call(this),function(){var e,r,t,o,i,s;o=v.cspNonce,r=v.CSRFProtection,v.fire,e={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},v.ajax=function(n){var r;return n=i(n),r=t(n,function(){var t,e;return e=s(null!=(t=r.response)?t:r.responseText,r.getResponseHeader("Content-Type")),2===Math.floor(r.status/100)?"function"==typeof n.success&&n.success(e,r.statusText,r):"function"==typeof n.error&&n.error(e,r.statusText,r),"function"==typeof n.complete?n.complete(r,r.statusText):void 0}),!(null!=n.beforeSend&&!n.beforeSend(r,n))&&(r.readyState===XMLHttpRequest.OPENED?r.send(n.data):void 0)},i=function(t){return t.url=t.url||location.href,t.type=t.type.toUpperCase(),"GET"===t.type&&t.data&&(t.url.indexOf("?")<0?t.url+="?"+t.data:t.url+="&"+t.data),null==e[t.dataType]&&(t.dataType="*"),t.accept=e[t.dataType],"*"!==t.dataType&&(t.accept+=", */*; q=0.01"),t},t=function(t,e){var n;return(n=new XMLHttpRequest).open(t.type,t.url,!0),n.setRequestHeader("Accept",t.accept),"string"==typeof t.data&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),r(n),n.withCredentials=!!t.withCredentials,n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE)return e(n)},n},s=function(t,e){var n,r;if("string"==typeof t&&"string"==typeof e)if(e.match(/\bjson\b/))try{t=JSON.parse(t)}catch(i){}else if(e.match(/\b(?:java|ecma)script\b/))(r=document.createElement("script")).setAttribute("nonce",o()),r.text=t,document.head.appendChild(r).parentNode.removeChild(r);else if(e.match(/\b(xml|html|svg)\b/)){n=new DOMParser,e=e.replace(/;.+/,"");try{t=n.parseFromString(t,e)}catch(i){}}return t},v.href=function(t){return t.href},v.isCrossDomain=function(t){var e,n;(e=document.createElement("a")).href=location.href,n=document.createElement("a");try{return n.href=t,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(r){return r,!0}}}.call(this),function(){var i,o;i=v.matches,o=function(t){return Array.prototype.slice.call(t)},v.serializeElement=function(t,e){var n,r;return n=[t],i(t,"form")&&(n=o(t.elements)),r=[],n.forEach(function(e){if(e.name&&!e.disabled)return i(e,"select")?o(e.options).forEach(function(t){if(t.selected)return r.push({name:e.name,value:t.value})}):e.checked||-1===["radio","checkbox","submit"].indexOf(e.type)?r.push({name:e.name,value:e.value}):void 0}),e&&r.push(e),r.map(function(t){return null!=t.name?encodeURIComponent(t.name)+"="+encodeURIComponent(t.value):t}).join("&")},v.formElements=function(t,e){return i(t,"form")?o(t.elements).filter(function(t){return i(t,e)}):o(t.querySelectorAll(e))}}.call(this),function(){var e,o,n;o=v.fire,n=v.stopEverything,v.handleConfirm=function(t){if(!e(this))return n(t)},e=function(t){var e,n,r;if(!(r=t.getAttribute("data-confirm")))return!0;if(e=!1,o(t,"confirm")){try{e=confirm(r)}catch(i){}n=o(t,"confirm:complete",[e])}return e&&n}}.call(this),function(){var n,r,i,o,s,a,e,u,l,c,p;l=v.matches,u=v.getData,c=v.setData,p=v.stopEverything,e=v.formElements,v.handleDisabledElement=function(t){if(this.disabled)return p(t)},v.enableElement=function(t){var e;return e=t instanceof Event?t.target:t,l(e,v.linkDisableSelector)?a(e):l(e,v.buttonDisableSelector)||l(e,v.formEnableSelector)?o(e):l(e,v.formSubmitSelector)?s(e):void 0},v.disableElement=function(t){var e;return e=t instanceof Event?t.target:t,l(e,v.linkDisableSelector)?i(e):l(e,v.buttonDisableSelector)||l(e,v.formDisableSelector)?n(e):l(e,v.formSubmitSelector)?r(e):void 0},i=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(c(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e),t.addEventListener("click",p),c(t,"ujs:disabled",!0)},a=function(t){var e;return null!=(e=u(t,"ujs:enable-with"))&&(t.innerHTML=e,c(t,"ujs:enable-with",null)),t.removeEventListener("click",p),c(t,"ujs:disabled",null)},r=function(t){return e(t,v.formDisableSelector).forEach(n)},n=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(l(t,"button")?(c(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e):(c(t,"ujs:enable-with",t.value),t.value=e)),t.disabled=!0,c(t,"ujs:disabled",!0)},s=function(t){return e(t,v.formEnableSelector).forEach(o)},o=function(t){var e;return null!=(e=u(t,"ujs:enable-with"))&&(l(t,"button")?t.innerHTML=e:t.value=e,c(t,"ujs:enable-with",null)),t.disabled=!1,c(t,"ujs:disabled",null)}}.call(this),function(){var u;u=v.stopEverything,v.handleMethod=function(t){var e,n,r,i,o,s,a;if(a=(s=this).getAttribute("data-method"))return o=v.href(s),n=v.csrfToken(),e=v.csrfParam(),r=document.createElement("form"),i="<input name='_method' value='"+a+"' type='hidden' />",null==e||null==n||v.isCrossDomain(o)||(i+="<input name='"+e+"' value='"+n+"' type='hidden' />"),i+='<input type="submit" />',r.method="post",r.action=o,r.target=s.target,r.innerHTML=i,r.style.display="none",document.body.appendChild(r),r.querySelector('[type="submit"]').click(),u(t)}}.call(this),function(){var u,l,c,p,h,f,d,m,y,g=[].slice;f=v.matches,c=v.getData,m=v.setData,l=v.fire,y=v.stopEverything,u=v.ajax,p=v.isCrossDomain,d=v.serializeElement,h=function(t){var e;return null!=(e=t.getAttribute("data-remote"))&&"false"!==e},v.handleRemote=function(t){var e,n,r,i,o,s,a;return!h(i=this)||(l(i,"ajax:before")?(a=i.getAttribute("data-with-credentials"),r=i.getAttribute("data-type")||"script",f(i,v.formSubmitSelector)?(e=c(i,"ujs:submit-button"),o=c(i,"ujs:submit-button-formmethod")||i.method,s=c(i,"ujs:submit-button-formaction")||i.getAttribute("action")||location.href,"GET"===o.toUpperCase()&&(s=s.replace(/\?.*$/,"")),"multipart/form-data"===i.enctype?(n=new FormData(i),null!=e&&n.append(e.name,e.value)):n=d(i,e),m(i,"ujs:submit-button",null),m(i,"ujs:submit-button-formmethod",null),m(i,"ujs:submit-button-formaction",null)):f(i,v.buttonClickSelector)||f(i,v.inputChangeSelector)?(o=i.getAttribute("data-method"),s=i.getAttribute("data-url"),n=d(i,i.getAttribute("data-params"))):(o=i.getAttribute("data-method"),s=v.href(i),n=i.getAttribute("data-params")),u({type:o||"GET",url:s,data:n,dataType:r,beforeSend:function(t,e){return l(i,"ajax:beforeSend",[t,e])?l(i,"ajax:send",[t]):(l(i,"ajax:stopped"),!1)},success:function(){var t;return t=1<=arguments.length?g.call(arguments,0):[],l(i,"ajax:success",t)},error:function(){var t;return t=1<=arguments.length?g.call(arguments,0):[],l(i,"ajax:error",t)},complete:function(){var t;return t=1<=arguments.length?g.call(arguments,0):[],l(i,"ajax:complete",t)},crossDomain:p(s),withCredentials:null!=a&&"false"!==a}),y(t)):(l(i,"ajax:stopped"),!1))},v.formSubmitButtonClick=function(){var t,e;if(e=(t=this).form)return t.name&&m(e,"ujs:submit-button",{name:t.name,value:t.value}),m(e,"ujs:formnovalidate-button",t.formNoValidate),m(e,"ujs:submit-button-formaction",t.getAttribute("formaction")),m(e,"ujs:submit-button-formmethod",t.getAttribute("formmethod"))},v.preventInsignificantClick=function(t){var e,n,r,i;if(i=((r=this).getAttribute("data-method")||"GET").toUpperCase(),e=r.getAttribute("data-params"),n=(t.metaKey||t.ctrlKey)&&"GET"===i&&!e,!(0===t.button)||n)return t.stopImmediatePropagation()}}.call(this),function(){var t,r,e,n,i,o,s,a,u,l,c,p,h,f,d;if(o=v.fire,e=v.delegate,a=v.getData,t=v.$,d=v.refreshCSRFTokens,r=v.CSRFProtection,h=v.loadCSPNonce,i=v.enableElement,n=v.disableElement,l=v.handleDisabledElement,u=v.handleConfirm,f=v.preventInsignificantClick,p=v.handleRemote,s=v.formSubmitButtonClick,c=v.handleMethod,"undefined"!=typeof jQuery&&null!==jQuery&&null!=jQuery.ajax){if(jQuery.rails)throw new Error("If you load both jquery_ujs and rails-ujs, use rails-ujs only.");jQuery.rails=v,jQuery.ajaxPrefilter(function(t,e,n){if(!t.crossDomain)return r(n)})}v.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return t(v.formEnableSelector).forEach(function(t){if(a(t,"ujs:disabled"))return i(t)}),t(v.linkDisableSelector).forEach(function(t){if(a(t,"ujs:disabled"))return i(t)})}),e(document,v.linkDisableSelector,"ajax:complete",i),e(document,v.linkDisableSelector,"ajax:stopped",i),e(document,v.buttonDisableSelector,"ajax:complete",i),e(document,v.buttonDisableSelector,"ajax:stopped",i),e(document,v.linkClickSelector,"click",f),e(document,v.linkClickSelector,"click",l),e(document,v.linkClickSelector,"click",u),e(document,v.linkClickSelector,"click",n),e(document,v.linkClickSelector,"click",p),e(document,v.linkClickSelector,"click",c),e(document,v.buttonClickSelector,"click",f),e(document,v.buttonClickSelector,"click",l),e(document,v.buttonClickSelector,"click",u),e(document,v.buttonClickSelector,"click",n),e(document,v.buttonClickSelector,"click",p),e(document,v.inputChangeSelector,"change",l),e(document,v.inputChangeSelector,"change",u),e(document,v.inputChangeSelector,"change",p),e(document,v.formSubmitSelector,"submit",l),e(document,v.formSubmitSelector,"submit",u),e(document,v.formSubmitSelector,"submit",p),e(document,v.formSubmitSelector,"submit",function(t){return setTimeout(function(){return n(t)},13)}),e(document,v.formSubmitSelector,"ajax:send",n),e(document,v.formSubmitSelector,"ajax:complete",i),e(document,v.formInputClickSelector,"click",f),e(document,v.formInputClickSelector,"click",l),e(document,v.formInputClickSelector,"click",u),e(document,v.formInputClickSelector,"click",s),document.addEventListener("DOMContentLoaded",d),document.addEventListener("DOMContentLoaded",h),window._rails_loaded=!0},window.Rails===v&&o(document,"rails:attachBindings")&&v.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=v:"function"==typeof define&&define.amd&&define(v)}).call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.ActiveStorage={})}(this,function(t){"use strict";function e(t,e){return t(e={exports:{}},e.exports),e.exports}function s(t){var e=r(document.head,'meta[name="'+t+'"]');if(e)return e.getAttribute("content")}function i(t,e){return"string"==typeof t&&(e=t,t=document),o(t.querySelectorAll(e))}function r(t,e){return"string"==typeof t&&(e=t,t=document),t.querySelector(e)}function u(t,e,n){var r=2<arguments.length&&n!==undefined?arguments[2]:{},i=t.disabled,o=r.bubbles,s=r.cancelable,a=r.detail,u=document.createEvent("Event");u.initEvent(e,o||!0,s||!0),u.detail=a||{};try{t.disabled=!1,t.dispatchEvent(u)}finally{t.disabled=i}return u}function o(t){return Array.isArray(t)?t:Array.from?Array.from(t):[].slice.call(t)}function a(t,e){if(t&&"function"==typeof t[e]){for(var n=arguments.length,r=Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return t[e].apply(t,r)}}function n(){P||(P=!0,document.addEventListener("click",l,!0),document.addEventListener("submit",c),document.addEventListener("ajax:before",p))}function l(t){var e=t.target;"INPUT"!=e.tagName&&"BUTTON"!=e.tagName||"submit"!=e.type||!e.form||F.set(e.form,e)}function c(t){h(t)}function p(t){"FORM"==t.target.tagName&&h(t)}function h(t){var e=t.target;if(e.hasAttribute(B))t.preventDefault();else{var n=new k(e),r=n.inputs;r.length&&(t.preventDefault(),e.setAttribute(B,""),r.forEach(d),n.start(function(t){e.removeAttribute(B),t?r.forEach(m):f(e)}))}}function f(t){var e=F.get(t)||r(t,"input[type=submit], button[type=submit]");if(e){var n=e.disabled;e.disabled=!1,e.focus(),e.click(),e.disabled=n}else(e=document.createElement("input")).type="submit",e.style.display="none",t.appendChild(e),e.click(),t.removeChild(e);F["delete"](t)}function d(t){t.disabled=!0}function m(t){t.disabled=!1}function y(){window.ActiveStorage&&n()}var g=e(function(t){var e;e=function(c){function l(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+e[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+e[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+e[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+e[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+e[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+e[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+e[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+e[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+e[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+e[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+e[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+e[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+e[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+e[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+e[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+e[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+e[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+e[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+e[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+e[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+e[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+e[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+e[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+e[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+e[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+e[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+e[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+e[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+e[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+e[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+e[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+e[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+e[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+e[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+e[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+e[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+e[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+e[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+e[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+e[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+e[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+e[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+e[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+e[9]-343485551|0)<<21|r>>>11)+i|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=i+t[2]|0,t[3]=o+t[3]|0}function p(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function h(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function r(t){var e,n,r,i,o,s,a=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=a;e+=64)l(u,p(t.substring(e-64,e)));for(n=(t=t.substring(e-64)).length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),55<e)for(l(u,r),e=0;e<16;e+=1)r[e]=0;return i=(i=8*a).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),s=parseInt(i[1],16)||0,r[14]=o,r[15]=s,l(u,r),u}function i(t){var e,n,r,i,o,s,a=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=a;e+=64)l(u,h(t.subarray(e-64,e)));for(n=(t=e-64<a?t.subarray(e-64):new Uint8Array(0)).length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)r[e>>2]|=t[e]<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),55<e)for(l(u,r),e=0;e<16;e+=1)r[e]=0;return i=(i=8*a).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),s=parseInt(i[1],16)||0,r[14]=o,r[15]=s,l(u,r),u}function n(t){var e,n="";for(e=0;e<4;e+=1)n+=m[t>>8*e+4&15]+m[t>>8*e&15];return n}function s(t){var e;for(e=0;e<t.length;e+=1)t[e]=n(t[e]);return t.join("")}function o(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function e(t,e){var n,r=t.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=t.charCodeAt(n);return e?o:i}function a(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function u(t,e,n){var r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t)),r.set(new Uint8Array(e),t.byteLength),n?r:r.buffer}function f(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function d(){this.reset()}var m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return s(r("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function l(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(t,e){var n,r,i,o,s=this.byteLength,a=l(t,s),u=s;return e!==c&&(u=l(e,s)),u<a?new ArrayBuffer(0):(n=u-a,r=new ArrayBuffer(n),i=new Uint8Array(r),o=new Uint8Array(this,a,n),i.set(o),r)}}(),d.prototype.append=function(t){return this.appendBinary(o(t)),this},d.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;e<=n;e+=64)l(this._hash,p(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},d.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(o,i),n=s(this._hash),t&&(n=f(n)),this.reset(),n},d.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},d.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},d.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},d.prototype._finish=function(t,e){var n,r,i,o=e;if(t[o>>2]|=128<<(o%4<<3),55<o)for(l(this._hash,t),o=0;o<16;o+=1)t[o]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),i=parseInt(n[1],16)||0,t[14]=r,t[15]=i,l(this._hash,t)},d.hash=function(t,e){return d.hashBinary(o(t),e)},d.hashBinary=function(t,e){var n=s(r(t));return e?f(n):n},d.ArrayBuffer=function(){this.reset()},d.ArrayBuffer.prototype.append=function(t){var e,n=u(this._buff.buffer,t,!0),r=n.length;for(this._length+=t.byteLength,e=64;e<=r;e+=64)l(this._hash,h(n.subarray(e-64,e)));return this._buff=e-64<r?new Uint8Array(n.buffer.slice(e-64)):new Uint8Array(0),this},d.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r[e]<<(e%4<<3);return this._finish(o,i),n=s(this._hash),t&&(n=f(n)),this.reset(),n},d.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.ArrayBuffer.prototype.getState=function(){var t=d.prototype.getState.call(this);return t.buff=a(t.buff),t},d.ArrayBuffer.prototype.setState=function(t){return t.buff=e(t.buff,!0),d.prototype.setState.call(this,t)},d.ArrayBuffer.prototype.destroy=d.prototype.destroy,d.ArrayBuffer.prototype._finish=d.prototype._finish,d.ArrayBuffer.hash=function(t,e){var n=s(i(new Uint8Array(t)));return e?f(n):n},d},t.exports=e()}),v=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},b=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),_=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,w=function(){function n(t){v(this,n),this.file=t,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}return b(n,null,[{key:"create",value:function r(t,e){new n(t).create(e)}}]),b(n,[{key:"create",value:function r(t){var e=this;this.callback=t,this.md5Buffer=new g.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",function(t){return e.fileReaderDidLoad(t)}),this.fileReader.addEventListener("error",function(t){return e.fileReaderDidError(t)}),this.readNextChunk()}},{key:"fileReaderDidLoad",value:function i(t){if(this.md5Buffer.append(t.target.result),!this.readNextChunk()){var e=this.md5Buffer.end(!0),n=btoa(e);this.callback(null,n)}}},{key:"fileReaderDidError",value:function t(){this.callback("Error reading "+this.file.name)}},{key:"readNextChunk",value:function o(){if(this.chunkIndex<this.chunkCount||0==this.chunkIndex&&0==this.chunkCount){var t=this.chunkIndex*this.chunkSize,e=Math.min(t+this.chunkSize,this.file.size),n=_.call(this.file,t,e);return this.fileReader.readAsArrayBuffer(n),this.chunkIndex++,!0}return!1}}]),n}(),E=function(){function i(t,e,n){var r=this;v(this,i),this.file=t,this.attributes={filename:t.name,content_type:t.type,byte_size:t.size,checksum:e},this.xhr=new XMLHttpRequest,this.xhr.open("POST",n,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xhr.setRequestHeader("X-CSRF-Token",s("csrf-token")),this.xhr.addEventListener("load",function(t){return r.requestDidLoad(t)}),this.xhr.addEventListener("error",function(t){return r.requestDidError(t)})}return b(i,[{key:"create",value:function e(t){this.callback=t,this.xhr.send(JSON.stringify({blob:this.attributes}))}},{key:"requestDidLoad",value:function r(t){if(200<=this.status&&this.status<300){var e=this.response,n=e.direct_upload;delete e.direct_upload,this.attributes=e,this.directUploadData=n,this.callback(null,this.toJSON())}else this.requestDidError(t)}},{key:"requestDidError",value:function t(){this.callback('Error creating Blob for "'+this.file.name+'". Status: '+this.status)}},{key:"toJSON",value:function n(){var t={};for(var e in this.attributes)t[e]=this.attributes[e];return t}},{key:"status",get:function o(){return this.xhr.status}},{key:"response",get:function o(){var t=this.xhr,e=t.responseType,n=t.response;return"json"==e?n:JSON.parse(n)}}]),i}(),A=function(){function s(t){var e=this;v(this,s),this.blob=t,this.file=t.file;var n=t.directUploadData,r=n.url,i=n.headers;for(var o in this.xhr=new XMLHttpRequest,this.xhr.open("PUT",r,!0),this.xhr.responseType="text",i)this.xhr.setRequestHeader(o,i[o]);this.xhr.addEventListener("load",function(t){return e.requestDidLoad(t)}),this.xhr.addEventListener("error",function(t){return e.requestDidError(t)})}return b(s,[{key:"create",value:function e(t){this.callback=t,this.xhr.send(this.file.slice())}},{key:"requestDidLoad",value:function i(t){var e=this.xhr,n=e.status,r=e.response;200<=n&&n<300?this.callback(null,r):this.requestDidError(t)}},{key:"requestDidError",value:function t(){this.callback('Error storing "'+this.file.name+'". Status: '+this.xhr.status)}}]),s}(),S=0,C=function(){function r(t,e,n){v(this,r),this.id=++S,this.file=t,this.url=e,this.delegate=n}return b(r,[{key:"create",value:function t(r){var i=this;w.create(this.file,function(t,e){if(t)r(t);else{var n=new E(i.file,e,i.url);a(i.delegate,"directUploadWillCreateBlobWithXHR",n.xhr),n.create(function(t){if(t)r(t);else{var e=new A(n);a(i.delegate,"directUploadWillStoreFileWithXHR",e.xhr),e.create(function(t){t?r(t):r(null,n.toJSON())})}})}})}}]),r}(),D=function(){function n(t,e){v(this,n),this.input=t,this.file=e,this.directUpload=new C(this.file,this.url,this),this.dispatch("initialize")}return b(n,[{key:"start",value:function t(n){var r=this,i=document.createElement("input");i.type="hidden",i.name=this.input.name,this.input.insertAdjacentElement("beforebegin",i),this.dispatch("start"),this.directUpload.create(function(t,e){t?(i.parentNode.removeChild(i),r.dispatchError(t)):i.value=e.signed_id,r.dispatch("end"),n(t)})}},{key:"uploadRequestDidProgress",value:function r(t){var e=t.loaded/t.total*100;e&&this.dispatch("progress",{progress:e})}},{key:"dispatch",value:function i(t,e){var n=1<arguments.length&&e!==undefined?arguments[1]:{};return n.file=this.file,n.id=this.directUpload.id,u(this.input,"direct-upload:"+t,{detail:n})}},{key:"dispatchError",value:function e(t){this.dispatch("error",{error:t}).defaultPrevented||alert(t)}},{key:"directUploadWillCreateBlobWithXHR",value:function o(t){this.dispatch("before-blob-request",{xhr:t})}},{key:"directUploadWillStoreFileWithXHR",value:function s(t){var e=this;this.dispatch("before-storage-request",{xhr:t}),t.upload.addEventListener("progress",function(t){return e.uploadRequestDidProgress(t)})}},{key:"url",get:function a(){return this.input.getAttribute("data-direct-upload-url")}}]),n}(),x="input[type=file][data-direct-upload-url]:not([disabled])",k=function(){function e(t){v(this,e),this.form=t,this.inputs=i(t,x).filter(function(t){return t.files.length})}return b(e,[{key:"start",value:function t(e){var n=this,r=this.createDirectUploadControllers(),i=function i(){var t=r.shift();t?t.start(function(t){t?(e(t),n.dispatch("end")):i()}):(e(),n.dispatch("end"))};this.dispatch("start"),i()}},{key:"createDirectUploadControllers",value:function n(){var r=[];return this.inputs.forEach(function(n){o(n.files).forEach(function(t){var e=new D(n,t);r.push(e)})}),r}},{key:"dispatch",value:function r(t,e){var n=1<arguments.length&&e!==undefined?arguments[1]:{};return u(this.form,"direct-uploads:"+t,{detail:n})}}]),e}(),B="data-direct-uploads-processing",F=new WeakMap,P=!1;setTimeout(y,1),t.start=n,t.DirectUpload=C,Object.defineProperty(t,"__esModule",{value:!0})}),function(){var t=this;(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(t,e){return c.controller.visit(t,e)},clearCache:function(){return c.controller.clearCache()},setProgressBarDelay:function(t){return c.controller.setProgressBarDelay(t)}}}).call(this)}).call(t);var c=t.Turbolinks;(function(){(function(){var n,r,u,t,e,i,o,s,a,l=[].slice;c.copyObject=function(t){var e,n,r;for(e in n={},t)r=t[e],n[e]=r;return n},c.closest=function(t,e){return n.call(t,e)},n=null!=(a=document.documentElement.closest)?a:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&r.call(e,t))return e;e=e.parentNode}},c.defer=function(t){return setTimeout(t,1)},c.throttle=function(n){var r;return r=null,function(){var t,e;return t=1<=arguments.length?l.call(arguments,0):[],null!=r?r:r=requestAnimationFrame((e=this,function(){return r=null,n.apply(e,t)}))}},c.dispatch=function(t,e){var n,r,i,o,s,a;return a=(s=null!=e?e:{}).target,n=s.cancelable,r=s.data,(i=document.createEvent("Events")).initEvent(t,!0,!0===n),i.data=null!=r?r:{},i.cancelable&&!u&&(o=i.preventDefault,i.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),o.call(this)}),(null!=a?a:document).dispatchEvent(i),i},(s=document.createEvent("Events")).initEvent("test",!0,!0),s.preventDefault(),u=s.defaultPrevented,c.match=function(t,e){return r.call(t,e)},r=null!=(e=null!=(i=null!=(o=(t=document.documentElement).matchesSelector)?o:t.webkitMatchesSelector)?i:t.msMatchesSelector)?e:t.mozMatchesSelector,c.uuid=function(){var t,e,n;for(n="",t=e=1;e<=36;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){c.Location=function(){function t(t){var e,n;null==t&&(t=""),(n=document.createElement("a")).href=t.toString(),this.absoluteURL=n.href,(e=n.hash.length)<2?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,r,i;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e
;return e=n(t),this.isEqualTo(t)||i(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return r(t,"/")?t:t+"/"},i=function(t,e){return t.slice(0,e.length)===e},r=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var r=function(t,e){return function(){return t.apply(e,arguments)}};c.HttpRequest=function(){function t(t,e,n){this.delegate=t,this.requestCanceled=r(this.requestCanceled,this),this.requestTimedOut=r(this.requestTimedOut,this),this.requestFailed=r(this.requestFailed,this),this.requestLoaded=r(this.requestLoaded,this),this.requestProgressed=r(this.requestProgressed,this),this.url=c.Location.wrap(e).requestURL,this.referrer=c.Location.wrap(n).absoluteURL,this.createXHR()}return t.NETWORK_FAILURE=0,t.TIMEOUT_FAILURE=-1,t.timeout=60,t.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},t.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},t.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},t.prototype.requestLoaded=function(){return this.endRequest((e=this,function(){var t;return 200<=(t=e.xhr.status)&&t<300?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}));var e},t.prototype.requestFailed=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}));var t},t.prototype.requestTimedOut=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}));var t},t.prototype.requestCanceled=function(){return this.endRequest()},t.prototype.notifyApplicationBeforeRequestStart=function(){return c.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},t.prototype.notifyApplicationAfterRequestEnd=function(){return c.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},t.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},t.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},t.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},t.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},t}()}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}};c.ProgressBar=function(){function t(){this.trickle=n(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var e;return e=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+e+"ms ease-out, opacity "+e/2+"ms "+e/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((t=this,function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}))):void 0;var t},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*e)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,e)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame((t=this,function(){return t.progressElement.style.width=10+90*t.value+"%"}));var t},t.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};c.BrowserAdapter=function(){function t(t){this.controller=t,this.showProgressBar=i(this.showProgressBar,this),this.progressBar=new c.ProgressBar}var n,r,e;return e=c.HttpRequest,n=e.NETWORK_FAILURE,r=e.TIMEOUT_FAILURE,t.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},t.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},t.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},t.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},t.prototype.visitRequestCompleted=function(t){return t.loadResponse()},t.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case r:return this.reload();default:return t.loadResponse()}},t.prototype.visitRequestFinished=function(){return this.hideProgressBar()},t.prototype.visitCompleted=function(t){return t.followRedirect()},t.prototype.pageInvalidated=function(){return this.reload()},t.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},t.prototype.showProgressBar=function(){return this.progressBar.show()},t.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},t.prototype.reload=function(){return window.location.reload()},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};c.History=function(){function t(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},t.prototype.push=function(t,e){return t=c.Location.wrap(t),this.update("push",t,e)},t.prototype.replace=function(t,e){return t=c.Location.wrap(t),this.update("replace",t,e)},t.prototype.onPopState=function(t){var e,n,r,i;return this.shouldHandlePopState()&&(i=null!=(n=t.state)?n.turbolinks:void 0)?(e=c.Location.wrap(window.location),r=i.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,r)):void 0},t.prototype.onPageLoad=function(){return c.defer((t=this,function(){return t.pageLoaded=!0}));var t},t.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},t.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},t.prototype.update=function(t,e,n){var r;return r={turbolinks:{restorationIdentifier:n}},history[t+"State"](r,null,e)},t}()}.call(this),function(){c.HeadDetails=function(){function t(t){var e,n,r,i,o;for(this.elements={},n=0,i=t.length;n<i;n++)(o=t[n]).nodeType===Node.ELEMENT_NODE&&(r=o.outerHTML,(null!=(e=this.elements)[r]?e[r]:e[r]={type:a(o),tracked:s(o),elements:[]}).elements.push(o))}var o,e,n,s,a;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var n;return function(){var t,e;for(n in e=[],t=this.elements)t[n].tracked&&e.push(n);return e}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,r,i,o,s,a;for(r in s=[],i=this.elements)a=(o=i[r]).type,n=o.elements,a!==t||e.hasElementWithKey(r)||s.push(n[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,n,r,i,o,s;for(e in n=[],r=this.elements)s=(i=r[e]).type,o=i.tracked,t=i.elements,null!=s||o?1<t.length&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute("content"):void 0},t.prototype.findMetaElementByName=function(t){var e,n,r,i;for(r in e=void 0,i=this.elements)n=i[r].elements,o(n[0],t)&&(e=n[0]);return e},a=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},s=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){return"script"===t.tagName.toLowerCase()},n=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},o=function(t,e){return"meta"===t.tagName.toLowerCase()&&t.getAttribute("name")===e},t}()}.call(this),function(){c.Snapshot=function(){function t(t,e){this.headDetails=t,this.bodyElement=e}return t.wrap=function(t){return t instanceof this?t:"string"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},t.fromHTMLString=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromHTMLElement(e)},t.fromHTMLElement=function(t){var e,n,r;return n=t.querySelector("head"),e=null!=(r=t.querySelector("body"))?r:document.createElement("body"),new this(c.HeadDetails.fromHeadElement(n),e)},t.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},t.prototype.getRootLocation=function(){var t,e;return e=null!=(t=this.getSetting("root"))?t:"/",new c.Location(e)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(c){}},t.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},t.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector("#"+t+"[data-turbolinks-permanent]")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,n,r,i,o;for(o=[],n=0,r=(i=this.getPermanentElements()).length;n<r;n++)e=i[n],t.getPermanentElementById(e.id)&&o.push(e);return o},t.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){return this.headDetails.getMetaValue("turbolinks-"+t)},t}()}.call(this),function(){var o=[].slice;c.Renderer=function(){function t(){}var n;return t.render=function(t,e){var n,r,i;return r=t,n=e,(i=function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(this,3<=arguments.length?o.call(arguments,2):[],function(){})).delegate=r,i.render(n),i},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,r,i,o,s,a,u;for(a=[],n=0,r=(o=e.attributes).length;n<r;n++)i=(s=o[n]).name,u=s.value,a.push(t.setAttribute(i,u));return a},t}()}.call(this),function(){var a,u,n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;c.SnapshotRenderer=function(t){function e(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(e,t),e.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView((e=this,function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}))):this.invalidateView();var e},e.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},e.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},e.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},e.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},e.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.getNewHeadStylesheetElements()).length;e<n;e++)t=r[e],i.push(document.head.appendChild(t));return i},e.prototype.copyNewHeadScriptElements=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.getNewHeadScriptElements()).length;e<n;e++)t=r[e],i.push(document.head.appendChild(this.createScriptElement(t)));return i},e.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.getCurrentHeadProvisionalElements()).length;e<n;e++)t=r[e],i.push(document.head.removeChild(t));return i},e.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.getNewHeadProvisionalElements()).length;e<n;e++)t=r[e],i.push(document.head.appendChild(t));return i},e.prototype.relocateCurrentBodyPermanentElements=function(){var t,e,n,r,i,o,s;for(s=[],t=0,e=(o=this.getCurrentBodyPermanentElements()).length;t<e;t++)r=o[t],i=a(r),n=this.newSnapshot.getPermanentElementById(r.id),u(r,i.element),u(n,r),s.push(i);return s},e.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var e,n,r,i,o,s;for(s=[],r=0,i=t.length;r<i;r++)n=(o=t[r]).element,e=o.permanentElement.cloneNode(!0),s.push(u(n,e));return s},e.prototype.activateNewBodyScriptElements=function(){var t,e,n,r,i,o;for(o=[],e=0,r=(i=this.getNewBodyScriptElements()).length;e<r;e++)n=i[e],t=this.createScriptElement(n),o.push(u(n,t));return o},e.prototype.assignNewBody=function(){return document.body=this.newBody},e.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},e.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},e.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},e.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},e.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},e.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},e.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},e}(c.Renderer),a=function(t){var e;return(e=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),e.setAttribute("content",t.id),{element:e,permanentElement:t}},u=function(t,e){var n;return(n=t.parentNode)?n.replaceChild(e,t):void 0}}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;c.ErrorRenderer=function(t){function e(t){var e;(e=document.createElement("html")).innerHTML=t,this.newHead=e.querySelector("head"),this.newBody=e.querySelector("body")}return n(e,t),e.prototype.render=function(t){return this.renderView((e=this,function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}));var e},e.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},e.prototype.activateBodyScriptElements=function(){var t,e,n,r,i,o;for(o=[],e=0,n=(r=this.getScriptElements()).length;e<n;e++)i=r[e],t=this.createScriptElement(i),o.push(i.parentNode.replaceChild(t,i));return o},e.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},e}(c.Renderer)}.call(this),function(){c.View=function(){function t(t){this.delegate=t,this.htmlElement=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return c.Snapshot.fromHTMLElement(this.htmlElement)},t.prototype.render=function(t,e){var n,r,i;return i=t.snapshot,n=t.error,r=t.isPreview,this.markAsPreview(r),null!=i?this.renderSnapshot(i,r,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,e,n){return c.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),c.Snapshot.wrap(t),e)},t.prototype.renderError=function(t,e){return c.ErrorRenderer.render(this.delegate,e,t)},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};c.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this),this.onScroll=c.throttle(this.onScroll)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(t){return t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},t.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){c.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var r;return t.prototype.has=function(t){return r(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=r(t),this.snapshots[e]},t.prototype.write=function(t,e){var n;return n=r(t),this.snapshots[n]=e},t.prototype.touch=function(t){var e,n;return n=r(t),-1<(e=this.keys.indexOf(n))&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},t.prototype.trim=function(){var t,e,n,r,i;for(i=[],t=0,n=(r=this.keys.splice(this.size)).length;t<n;t++)e=r[t],i.push(delete this.snapshots[e]);return i},r=function(t){return c.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var r=function(t,e){return function(){return t.apply(e,arguments)}};c.Visit=function(){function t(t,e,n){this.controller=t,this.action=n,this.performScroll=r(this.performScroll,this),this.identifier=c.uuid(),this.location=c.Location.wrap(e),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return t.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},t.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},t.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},t.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},t.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},t.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new c.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},t.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},t.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},t.prototype.loadCachedSnapshot=function(){var e,n;return(n=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render(function(){var t;return this.cacheSnapshot(),this.controller.render({snapshot:n,isPreview:e},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),e?void 0:this.complete()})):void 0},t.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},t.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},t.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},t.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},t.prototype.requestCompletedWithResponse=function(t,e){return this.response=t,null!=e&&(this.redirectedToLocation=c.Location.wrap(e)),this.adapter.visitRequestCompleted(this)},t.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},t.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},t.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},t.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},t.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},t.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},t.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},t.prototype.getTimingMetrics=function(){return c.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},t.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},t.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},t.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame((e=this,function(){return e.frame=null,t.call(e)}));var e},t.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};c.Controller=function(){function t(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new c.History(this),this.view=new c.View(this),this.scrollManager=new c.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return t.prototype.start=function(){return c.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},t.prototype.clearCache=function(){return this.cache=new c.SnapshotCache(10)},t.prototype.visit=function(t,e){var n,r;return null==e&&(e={}),t=c.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(r=e.action)?r:"advance",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},t.prototype.startVisitToLocationWithAction=function(t,e,n){var r;return c.supported?(r=this.getRestorationDataForIdentifier(n),this.startVisit(t,e,{restorationData:r})):window.location=t},t.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},t.prototype.startHistory=function(){return this.location=c.Location.wrap(window.location),this.restorationIdentifier=c.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.stopHistory=function(){return this.history.stop()},t.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=c.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},t.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=c.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,e){var n;return this.restorationIdentifier=e,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=c.Location.wrap(t)):this.adapter.pageInvalidated()},t.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},t.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},t.prototype.cacheSnapshot=function(){var t,e,n;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),e=this.view.getSnapshot(),t=this.lastRenderedLocation,c.defer((n=this,function(){return n.cache.put(t,e.clone())}))):void 0},t.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},t.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},t.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},t.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},t.prototype.render=function(t,e){return this.view.render(t,e)},t.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},t.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},t.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},t.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},t.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},t.prototype.clickBubbled=function(t){var e,n,r;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(r=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,r)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(r,{action:e})):void 0},t.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},t.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},t.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,e){return c.dispatch("turbolinks:click",{target:t,data:{url:e.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationBeforeVisitingLocation=function(t){return c.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationAfterVisitingLocation=function(t){return c.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},t.prototype.notifyApplicationBeforeCachingSnapshot=function(){return c.dispatch("turbolinks:before-cache")},t.prototype.notifyApplicationBeforeRender=function(t){return c.dispatch("turbolinks:before-render",{data:{newBody:t}})},t.prototype.notifyApplicationAfterRender=function(){return c.dispatch("turbolinks:render")},t.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),c.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},t.prototype.startVisit=function(t,e,n){var r;return null!=(r=this.currentVisit)&&r.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},t.prototype.createVisit=function(t,e,n){var r,i,o,s,a;return s=(i=null!=n?n:{}).restorationIdentifier,o=i.restorationData,r=i.historyChanged,(a=new c.Visit(this,t,e)
).restorationIdentifier=null!=s?s:c.uuid(),a.restorationData=c.copyObject(o),a.historyChanged=r,a.referrer=this.location,a},t.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},t.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||1<t.which||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},t.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?c.closest(t,"a[href]:not([target]):not([download])"):void 0},t.prototype.getVisitableLocationForLink=function(t){var e;return e=new c.Location(t.getAttribute("href")),this.locationIsVisitable(e)?e:void 0},t.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},t.prototype.nodeIsVisitable=function(t){var e;return!(e=c.closest(t,"[data-turbolinks]"))||"false"!==e.getAttribute("data-turbolinks")},t.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},t.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},t.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},t}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,e,n;c.start=function(){return e()?(null==c.controller&&(c.controller=t()),c.controller.start()):void 0},e=function(){return null==window.Turbolinks&&(window.Turbolinks=c),n()},t=function(){var t;return(t=new c.Controller).adapter=new c.BrowserAdapter(t),t},(n=function(){return window.Turbolinks===c})()&&c.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd&&define(c)}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(c){var o,n=0,a=Array.prototype.slice;c.cleanData=(o=c.cleanData,function(t){var e,n,r;for(r=0;null!=(n=t[r]);r++)try{(e=c._data(n,"events"))&&e.remove&&c(n).triggerHandler("remove")}catch(i){}o(t)}),c.widget=function(t,n,e){var r,i,o,s,a={},u=t.split(".")[0];return t=t.split(".")[1],r=u+"-"+t,e||(e=n,n=c.Widget),c.expr[":"][r.toLowerCase()]=function(t){return!!c.data(t,r)},c[u]=c[u]||{},i=c[u][t],o=c[u][t]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},c.extend(o,i,{version:e.version,_proto:c.extend({},e),_childConstructors:[]}),(s=new n).options=c.widget.extend({},s.options),c.each(e,function(e,r){var i,o;c.isFunction(r)?a[e]=(i=function(){return n.prototype[e].apply(this,arguments)},o=function(t){return n.prototype[e].apply(this,t)},function(){var t,e=this._super,n=this._superApply;return this._super=i,this._superApply=o,t=r.apply(this,arguments),this._super=e,this._superApply=n,t}):a[e]=r}),o.prototype=c.widget.extend(s,{widgetEventPrefix:i&&s.widgetEventPrefix||t},a,{constructor:o,namespace:u,widgetName:t,widgetFullName:r}),i?(c.each(i._childConstructors,function(t,e){var n=e.prototype;c.widget(n.namespace+"."+n.widgetName,o,e._proto)}),delete i._childConstructors):n._childConstructors.push(o),c.widget.bridge(t,o),o},c.widget.extend=function(t){for(var e,n,r=a.call(arguments,1),i=0,o=r.length;i<o;i++)for(e in r[i])n=r[i][e],r[i].hasOwnProperty(e)&&n!==undefined&&(c.isPlainObject(n)?t[e]=c.isPlainObject(t[e])?c.widget.extend({},t[e],n):c.widget.extend({},n):t[e]=n);return t},c.widget.bridge=function(o,e){var s=e.prototype.widgetFullName||o;c.fn[o]=function(n){var t="string"==typeof n,r=a.call(arguments,1),i=this;return t?this.each(function(){var t,e=c.data(this,s);return"instance"===n?(i=e,!1):e?c.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,r))!==e&&t!==undefined?(i=t&&t.jquery?i.pushStack(t.get()):t,!1):void 0:c.error("no such method '"+n+"' for "+o+" widget instance"):c.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):(r.length&&(n=c.widget.extend.apply(null,[n].concat(r))),this.each(function(){var t=c.data(this,s);t?(t.option(n||{}),t._init&&t._init()):c.data(this,s,new e(n,this))})),i}},c.Widget=function(){},c.Widget._childConstructors=[],c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=c(e||this.defaultElement||this)[0],this.element=c(e),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=c(),this.hoverable=c(),this.focusable=c(),e!==this&&(c.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=c(e.style?e.ownerDocument:e.document||e),this.window=c(this.document[0].defaultView||this.document[0].parentWindow)),this.options=c.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(t,e){var n,r,i,o=t;if(0===arguments.length)return c.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(n=t.split(".")).shift(),n.length){for(r=o[t]=c.widget.extend({},this.options[t]),i=0;i<n.length-1;i++)r[n[i]]=r[n[i]]||{},r=r[n[i]];if(t=n.pop(),1===arguments.length)return r[t]===undefined?null:r[t];r[t]=e}else{if(1===arguments.length)return this.options[t]===undefined?null:this.options[t];o[t]=e}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(s,a,t){var u,l=this;"boolean"!=typeof s&&(t=a,a=s,s=!1),t?(a=u=c(a),this.bindings=this.bindings.add(a)):(t=a,a=this.element,u=this.widget()),c.each(t,function(t,e){function n(){if(s||!0!==l.options.disabled&&!c(this).hasClass("ui-state-disabled"))return("string"==typeof e?l[e]:e).apply(l,arguments)}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||c.guid++);var r=t.match(/^([\w:-]*)\s*(.*)$/),i=r[1]+l.eventNamespace,o=r[2];o?u.delegate(o,i,n):a.bind(i,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e),this.bindings=c(this.bindings.not(t).get()),this.focusable=c(this.focusable.not(t).get()),this.hoverable=c(this.hoverable.not(t).get())},_delay:function(t,e){function n(){return("string"==typeof t?r[t]:t).apply(r,arguments)}var r=this;return setTimeout(n,e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){c(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){c(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){c(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){c(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,n){var r,i,o=this.options[t];if(n=n||{},(e=c.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],i=e.originalEvent)for(r in i)r in e||(e[r]=i[r]);return this.element.trigger(e,n),!(c.isFunction(o)&&!1===o.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},c.each({show:"fadeIn",hide:"fadeOut"},function(o,s){c.Widget.prototype["_"+o]=function(e,t,n){"string"==typeof t&&(t={effect:t});var r,i=t?!0===t||"number"==typeof t?s:t.effect||s:o;"number"==typeof(t=t||{})&&(t={duration:t}),r=!c.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),r&&c.effects&&c.effects.effect[i]?e[o](t):i!==o&&e[i]?e[i](t.duration,t.easing,n):e.queue(function(t){c(this)[o](),n&&n.call(e[0]),t()})}});c.widget}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(window.jQuery)}(function(u){"use strict";var r=0,e=u,n="parseJSON";"JSON"in window&&"parse"in JSON&&(e=JSON,n="parse"),u.ajaxTransport("iframe",function(i){if(i.async){var o,s,e,a=i.initialIframeSrc||"javascript:false;";return{send:function(t,n){(o=u('<form style="display:none;"></form>')).attr("accept-charset",i.formAcceptCharset),e=/\?/.test(i.url)?"&":"?","DELETE"===i.type?(i.url=i.url+e+"_method=DELETE",i.type="POST"):"PUT"===i.type?(i.url=i.url+e+"_method=PUT",i.type="POST"):"PATCH"===i.type&&(i.url=i.url+e+"_method=PATCH",i.type="POST"),s=u('<iframe src="'+a+'" name="iframe-transport-'+(r+=1)+'"></iframe>').bind("load",function(){var r,e=u.isArray(i.paramName)?i.paramName:[i.paramName];s.unbind("load").bind("load",function(){var t;try{if(!(t=s.contents()).length||!t[0].firstChild)throw new Error}catch(e){t=undefined}n(200,"success",{iframe:t}),u('<iframe src="'+a+'"></iframe>').appendTo(o),window.setTimeout(function(){o.remove()},0)}),o.prop("target",s.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&u.each(i.formData,function(t,e){u('<input type="hidden"/>').prop("name",e.name).val(e.value).appendTo(o)}),i.fileInput&&i.fileInput.length&&"POST"===i.type&&(r=i.fileInput.clone(),i.fileInput.after(function(t){return r[t]}),i.paramName&&i.fileInput.each(function(t){u(this).prop("name",e[t]||i.paramName)}),o.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),i.fileInput.removeAttr("form")),o.submit(),r&&r.length&&i.fileInput.each(function(t,e){var n=u(r[t]);u(e).prop("name",n.prop("name")).attr("form",n.attr("form")),n.replaceWith(e)})}),o.append(s).appendTo(document.body)},abort:function(){s&&s.unbind("load").prop("src",a),o&&o.remove()}}}}),u.ajaxSetup({converters:{"iframe text":function(t){return t&&u(t[0].body).text()},"iframe json":function(t){return t&&e[n](u(t[0].body).text())},"iframe html":function(t){return t&&u(t[0].body).html()},"iframe xml":function(t){var e=t&&t[0];return e&&u.isXMLDoc(e)?e:u.parseXML(e.XMLDocument&&e.XMLDocument.xml||u(e.body).html())},"iframe script":function(t){return t&&u.globalEval(u(t[0].body).text())}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],t):"object"==typeof exports?t(require("jquery"),require("./vendor/jquery.ui.widget")):t(window.jQuery)}(function(g){"use strict";function t(n){var r="dragover"===n;return function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var e=t.dataTransfer;e&&-1!==g.inArray("Files",e.types)&&!1!==this._trigger(n,g.Event(n,{delegatedEvent:t}))&&(t.preventDefault(),r&&(e.dropEffect="copy"))}}g.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||g('<input type="file">').prop("disabled")),g.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),g.support.xhrFormDataFileUpload=!!window.FormData,g.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),g.widget("blueimp.fileupload",{options:{dropZone:g(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(n,t){return n=this.messages[n]||n.toString(),t&&g.each(t,function(t,e){n=n.replace("{"+t+"}",e)}),n},formData:function(t){return t.serializeArray()},add:function(t,e){if(t.isDefaultPrevented())return!1;(e.autoUpload||!1!==e.autoUpload&&g(this).fileupload("option","autoUpload"))&&e.process().done(function(){e.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:g.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var r=t-this.timestamp;return(!this.bitrate||!n||n<r)&&(this.bitrate=(e-this.loaded)*(1e3/r)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&g.support.xhrFileUpload||g.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===g.type(t.formData)?t.formData(t.form):g.isArray(t.formData)?t.formData:"object"===g.type(t.formData)?(n=[],g.each(t.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(t){var n=0;return g.each(t,function(t,e){n+=e.size||1}),n},_initProgressObject:function(t){var e={loaded:0,total:0,bitrate:0};t._progress?g.extend(t._progress,e):t._progress=e},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(t,e){if(t.lengthComputable){var n,r=Date.now?Date.now():(new Date).getTime();if(e._time&&e.progressInterval&&r-e._time<e.progressInterval&&t.loaded!==t.total)return;e._time=r,n=Math.floor(t.loaded/t.total*(e.chunkSize||e._progress.total))+(e.uploadedBytes||0),this._progress.loaded+=n-e._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,e.bitrateInterval),e._progress.loaded=e.loaded=n,e._progress.bitrate=e.bitrate=e._bitrateTimer.getBitrate(r,n,e.bitrateInterval),this._trigger("progress",g.Event("progress",{delegatedEvent:t}),e),this._trigger("progressall",g.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(n){var r=this,t=n.xhr?n.xhr():g.ajaxSettings.xhr();t.upload&&(g(t.upload).bind("progress",function(t){var e=t.originalEvent;t.lengthComputable=e.lengthComputable,t.loaded=e.loaded,t.total=e.total,r._onProgress(t,n)}),n.xhr=function(){return t})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(n){var r,i=this,t=n.files[0],e=n.multipart||!g.support.xhrFileUpload,o="array"===g.type(n.paramName)?n.paramName[0]:n.paramName;n.headers=g.extend({},n.headers),n.contentRange&&(n.headers["Content-Range"]=n.contentRange),e&&!n.blob&&this._isInstanceOf("File",t)||(n.headers["Content-Disposition"]='attachment; filename="'+encodeURI(t.name)+'"'),e?g.support.xhrFormDataFileUpload&&(n.postMessage?(r=this._getFormData(n),n.blob?r.push({name:o,value:n.blob}):g.each(n.files,function(t,e){r.push({name:"array"===g.type(n.paramName)&&n.paramName[t]||o,value:e})})):(i._isInstanceOf("FormData",n.formData)?r=n.formData:(r=new FormData,g.each(this._getFormData(n),function(t,e){r.append(e.name,e.value)})),n.blob?r.append(o,n.blob,t.name):g.each(n.files,function(t,e){(i._isInstanceOf("File",e)||i._isInstanceOf("Blob",e))&&r.append("array"===g.type(n.paramName)&&n.paramName[t]||o,e,e.uploadName||e.name)})),n.data=r):(n.contentType=t.type||"application/octet-stream",n.data=n.blob||t),n.blob=null},_initIframeSettings:function(t){var e=g("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&e&&e!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(t){var e=g(t.fileInput),r=t.paramName;return r?g.isArray(r)||(r=[r]):(r=[],e.each(function(){for(var t=g(this),e=t.prop("name")||"files[]",n=(t.prop("files")||[1]).length;n;)r.push(e),n-=1}),r.length||(r=[e.prop("name")||"files[]"])),r},_initFormSettings:function(t){t.form&&t.form.length||(t.form=g(t.fileInput.prop("form")),t.form.length||(t.form=g(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===g.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var e=g.extend({},this.options,t);return this._initFormSettings(e),this._initDataSettings(e),e},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(t,e,n){var r=g.Deferred(),i=r.promise();return e=e||this.options.context||i,!0===t?r.resolveWith(e,n):!1===t&&r.rejectWith(e,n),i.abort=r.promise,this._enhancePromise(i)},_addConvenienceMethods:function(t,n){var r=this,i=function(t){return g.Deferred().resolveWith(r,t).promise()};n.process=function(t,e){return(t||e)&&(n._processQueue=this._processQueue=(this._processQueue||i([this])).then(function(){return n.errorThrown?g.Deferred().rejectWith(r,[n]).promise():i(arguments)}).then(t,e)),this._processQueue||i([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==r._trigger("submit",g.Event("submit",{delegatedEvent:t}),this)&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),r=n&&1<n.length&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(o,t){o.uploadedBytes=o.uploadedBytes||0;var e,s,a=this,n=o.files[0],u=n.size,l=o.uploadedBytes,c=o.maxChunkSize||u,p=this._blobSlice,h=g.Deferred(),r=h.promise();return!(!(this._isXHRUpload(o)&&p&&(l||("function"===g.type(c)?c(o):c)<u))||o.data)&&(!!t||(u<=l?(n.error=o.i18n("uploadedBytes"),this._getXHRPromise(!1,o.context,[null,"error",n.error])):(s=function(){var r=g.extend({},o),i=r._progress.loaded;r.blob=p.call(n,l,l+("function"===g.type(c)?c(r):c),n.type),r.chunkSize=r.blob.size,r.contentRange="bytes "+l+"-"+(l+r.chunkSize-1)+"/"+u,a._initXHRData(r),a._initProgressListener(r),e=(!1!==a._trigger("chunksend",null,r)&&g.ajax(r)||a._getXHRPromise(!1,r.context)).done(function(t,e,n){l=a._getUploadedBytes(n)||l+r.chunkSize,i+r.chunkSize-r._progress.loaded&&a._onProgress(g.Event("progress",{lengthComputable:!0,loaded:l-r.uploadedBytes,total:l-r.uploadedBytes}),r),o.uploadedBytes=r.uploadedBytes=l,r.result=t,r.textStatus=e,r.jqXHR=n,a._trigger("chunkdone",null,r),a._trigger("chunkalways",null,r),l<u?s():h.resolveWith(r.context,[t,e,n])}).fail(function(t,e,n){r.jqXHR=t,r.textStatus=e,r.errorThrown=n,a._trigger("chunkfail",null,r),a._trigger("chunkalways",null,r),h.rejectWith(r.context,[t,e,n])})},this._enhancePromise(r),r.abort=function(){return e.abort()},s(),r)))},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(t,e,n,r){var i=r._progress.total,o=r._response;r._progress.loaded<i&&this._onProgress(g.Event("progress",{lengthComputable:!0,loaded:i,total:i}),r),o.result=r.result=t,o.textStatus=r.textStatus=e,o.jqXHR=r.jqXHR=n,this._trigger("done",null,r)},_onFail:function(t,e,n,r){var i=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),i.jqXHR=r.jqXHR=t,i.textStatus=r.textStatus=e,i.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(t,e,n,r){this._trigger("always",null,r)},_onSend:function(t,e){e.submit||this._addConvenienceMethods(t,e);var n,r,i,o,s=this,a=s._getAJAXSettings(e),u=function(){return s._sending+=1,a._bitrateTimer=new s._BitrateTimer,n=n||((r||!1===s._trigger("send",g.Event("send",{delegatedEvent:t}),a))&&s._getXHRPromise(!1,a.context,r)||s._chunkedUpload(a)||g.ajax(a)).done(function(t,e,n){s._onDone(t,e,n,a)}).fail(function(t,e,n){s._onFail(t,e,n,a)}).always(function(t,e,n){if(s._onAlways(t,e,n,a),s._sending-=1,s._active-=1,a.limitConcurrentUploads&&a.limitConcurrentUploads>s._sending)for(var r=s._slots.shift();r;){if("pending"===s._getDeferredState(r)){r.resolve();break}r=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(t,a),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(1<this.options.limitConcurrentUploads?(i=g.Deferred(),this._slots.push(i),o=i.then(u)):(this._sequence=this._sequence.then(u,u),o=this._sequence),o.abort=function(){return r=[undefined,"abort","abort"],n?n.abort():(i&&i.rejectWith(a.context,r),u())},this._enhancePromise(o)):u()},_onAdd:function(r,i){var o,t,s,e,a=this,u=!0,n=g.extend({},this.options,i),l=i.files,c=l.length,p=n.limitMultiFileUploads,h=n.limitMultiFileUploadSize,f=n.limitMultiFileUploadSizeOverhead,d=0,m=this._getParamName(n),y=0;if(!c)return!1;if(h&&l[0].size===undefined&&(h=undefined),(n.singleFileUploads||p||h)&&this._isXHRUpload(n))if(n.singleFileUploads||h||!p)if(!n.singleFileUploads&&h)for(s=[],o=[],e=0;e<c;e+=1)d+=l[e].size+f,(e+1===c||d+l[e+1].size+f>h||p&&p<=e+1-y)&&(s.push(l.slice(y,e+1)),(t=m.slice(y,e+1)).length||(t=m),o.push(t),y=e+1,d=0);else o=m;else for(s=[],o=[],e=0;e<c;e+=p)s.push(l.slice(e,e+p)),(t=m.slice(e,e+p)).length||(t=m),o.push(t);else s=[l],o=[m];return i.originalFiles=l,g.each(s||l,function(t,e){var n=g.extend({},i);return n.files=s?e:[e],n.paramName=o[t],a._initResponseObject(n),a._initProgressObject(n),a._addConvenienceMethods(r,n),u=a._trigger("add",g.Event("add",{delegatedEvent:r}),n)}),u},_replaceFileInput:function(t){var n=t.fileInput,r=n.clone(!0),e=n.is(document.activeElement);t.fileInputClone=r,g("<form></form>").append(r)[0].reset(),n.after(r).detach(),e&&r.focus(),g.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===n[0]?r[0]:e}),n[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(e,n){var t,r=this,i=g.Deferred(),o=[],s=function(t){t&&!t.entry&&(t.entry=e),i.resolve([t])},a=function(t){r._handleFileTreeEntries(t,n+e.name+"/").done(function(t){i.resolve(t)}).fail(s)},u=function(){t.readEntries(function(t){t.length?(o=o.concat(t),u()):a(o)},s)};return n=n||"",e.isFile?e._file?(e._file.relativePath=n,i.resolve(e._file)):e.file(function(t){t.relativePath=n,i.resolve(t)},s):e.isDirectory?(t=e.createReader(),u()):i.resolve([]),i.promise()},_handleFileTreeEntries:function(t,e){var n=this;return g.when.apply(g,g.map(t,function(t){return n._handleFileTreeEntry(t,e)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){var e=(t=t||{}).items;return e&&e.length&&(e[0].webkitGetAsEntry||e[0].getAsEntry)?this._handleFileTreeEntries(g.map(e,function(t){var e;return t.webkitGetAsEntry?((e=t.webkitGetAsEntry())&&(e._file=t.getAsFile()),e):t.getAsEntry()})):g.Deferred().resolve(g.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){var e,n,r=(t=g(t)).prop("webkitEntries")||t.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if((e=g.makeArray(t.prop("files"))).length)e[0].name===undefined&&e[0].fileName&&g.each(e,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(!(n=t.prop("value")))return g.Deferred().resolve([]).promise();e=[{name:n.replace(/^.*\\/,"")}]}return g.Deferred().resolve(e).promise()},_getFileInputFiles:function(t){return t instanceof g&&1!==t.length?g.when.apply(g,g.map(t,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(e){var n=this,r={fileInput:g(e.target),form:g(e.target.form)};this._getFileInputFiles(r.fileInput).always(function(t){r.files=t,n.options.replaceFileInput&&n._replaceFileInput(r),!1!==n._trigger("change",g.Event("change",{delegatedEvent:e}),r)&&n._onAdd(e,r)})},_onPaste:function(t){var e=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};e&&e.length&&(g.each(e,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&r.files.push(n)}),!1!==this._trigger("paste",g.Event("paste",{delegatedEvent:t}),r)&&this._onAdd(t,r))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,t=e.dataTransfer,r={};t&&t.files&&t.files.length&&(e.preventDefault(),this._getDroppedFiles(t).always(function(t){r.files=t,!1!==n._trigger("drop",g.Event("drop",{delegatedEvent:e}),r)&&n._onAdd(e,r)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),g.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(t,e){var n=-1!==g.inArray(t,this._specialOptions);n&&this._destroyEventHandlers(),this._super(t,e),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;t.fileInput===undefined?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof g||(t.fileInput=g(t.fileInput)),t.dropZone instanceof g||(t.dropZone=g(t.dropZone)),t.pasteZone instanceof g||(t.pasteZone=g(t.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(t,e){return"url"!==t&&"string"===g.type(e)&&/^\/.*\/[igm]{0,3}$/.test(e)},_initDataAttributes:function(){var i=this,o=this.options,s=this.element.data();g.each(this.element[0].attributes,function(t,e){var n,r=e.name.toLowerCase();/^data-/.test(r)&&(r=r.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),n=s[r],i._isRegExpOption(r,n)&&(n=i._getRegExp(n)),o[r]=n)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=g.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,r,i=this,o=g.Deferred(),t=o.promise();return t.abort=function(){return r=!0,n?n.abort():(o.reject(null,"abort","abort"),t)},this._getFileInputFiles(e.fileInput).always(function(t){r||(t.length?(e.files=t,(n=i._onSend(null,e)).then(function(t,e,n){o.resolve(t,e,n)},function(t,e,n){o.reject(t,e,n)})):o.reject())}),this._enhancePromise(t)}if(e.files=g.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})});var slice=[].slice,extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;!function(t,e){var n,r,i,o;if("function"==typeof define&&define.amd)return define(["jquery"],e);if("object"==typeof exports)return module.exports=e(require("jquery"));for(n in t.cloudinary||(t.cloudinary={}),i=[],r=e(jQuery))o=r[n],i.push(t.cloudinary[n]=o)}(this,function(l){var a,t,e,p,n,u,i,_,r,o,A,m,s,c,h,f,d,y,g,S,v,w,C,D,b,E,x,k,B,F,P,R,T,L,I,j,q,O,H,N,U,M,z,V,W,X,$,Q,Z,K,G,J,Y,tt,et,nt,rt,it,ot,st,at,ut,lt,ct,pt,ht,ft;return E=function(t){var e,n,r;for(n=0,r=t.length;n<r;n++)if(e=t[n],!C.isString(e))return!1;return!0},pt=function(t,e){var n,r,i;for(i=[],n=-1,r=t.length;++n<r;)t[n]!==e&&i.push(t[n]);return i},W=function(t){return null!=t&&!isNaN(parseFloat(t))},it=function(t,e){return null==e&&(e=/([^a-zA-Z0-9_.\-\/:]+)/g),t.replace(e,function(t){return t.split("").map(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}).join("")})},I=function(t){var e;return e=t,(2<=arguments.length?slice.call(arguments,1):[]).reduce(function(t,e){var n,r;for(n in e)r=e[n],void 0===t[n]&&(t[n]=r);return t},e)},G=Object.prototype,K=G.toString,X=function(t){var e;return e=typeof t,!!t&&("object"===e||"function"===e)},q="[object Function]",V=function(t){return X(t)&&K.call(t)===q},ft="[A-Z]",ht="[a-z]+",Y=RegExp(ft+"+(?="+ft+ht+")|"+ft+"?"+ht+"|"+ft+"+|[0-9]+","g"),k=function(t){var r,i,o;return o=t.match(Y),(o=function(){var t,e,n;for(n=[],r=t=0,e=o.length;t<e;r=++t)i=(i=o[r]).toLocaleLowerCase(),r?n.push(i.charAt(0).toLocaleUpperCase()+i.slice(1)):n.push(i);return n}()).join("")},ot=function(t){var r,i,o;return o=t.match(Y),(o=function(){var t,e,n;for(n=[],r=t=0,e=o.length;t<e;r=++t)i=o[r],n.push(i.toLocaleLowerCase());return n}()).join("_")},T=function(t,e){var n,r,i;for(n in null==e&&(e=C.identity),r={},t)i=t[n],n=e(n),C.isEmpty(n)||(r[n]=i);return r},lt=function(t){return T(t,C.camelCase)},ct=function(t){return T(t,C.snakeCase)},x="undefined"!=typeof btoa&&V(btoa)?btoa:"undefined"!=typeof Buffer&&V(Buffer)?function(t){return t instanceof Buffer||(t=new Buffer.from(String(t),"binary")),t.toString("base64")}:function(){throw new Error("No base64 encoding function found")},t={allStrings:E,camelCase:k,convertKeys:T,defaults:I,snakeCase:ot,without:pt,isFunction:V,isNumberLike:W,smartEscape:it,withCamelCaseKeys:lt,withSnakeCaseKeys:ct,base64EncodeURL:function(t){var e;try{t=decodeURI(t)}catch(e){e}return t=encodeURI(t),x(t)}},N=function(t,e){return l(t).data(e)},rt=function(t,e,n){return l(t).data(e,n)},H=function(t,e){return l(t).attr(e)},et=function(t,e,n){return l(t).attr(e,n)},tt=function(t,e){return l(t).removeAttr(e)},nt=function(t,e){return l(t).attr(e)},U=function(t,e){return l(t).hasClass(e)},b=function(t,e){return l(t).addClass(e)},ut=function(t){return l(t).width()},z=function(t){return null==t||(l.isArray(t)||C.isString(t))&&0===t.length||l.isPlainObject(t)&&l.isEmptyObject(t)},$=function(t){return"string"==typeof t||"[object String]"===(null!=t?t.toString():void 0)},Z=function(){var t,r;return(t=function(){var t,e,n;for(n=[]
,t=0,e=arguments.length;t<e;t++)r=arguments[t],n.push(r);return n}.apply(this,arguments)).unshift(!0),l.extend.apply(this,t)},P=function(t){var e,n,r,i;for(i=[],n=0,r=t.length;n<r;n++)(e=t[n])&&i.push(e);return i},B=function(){var t;return(t=l.makeArray(arguments)).unshift({}),t.unshift(!0),l.extend.apply(this,t)},R=function(t,e){var n,r;for(n=0,r=t.length;n<r;n++)if(t[n]===e)return!0;return!1},j=function(t,e){var n,r,i,o;for(o=[],r=0,i=t.length;r<i;r++)n=t[r],R(e,n)||o.push(n);return o},O=function(t){var e,n;for(e in n=[],t)l.isFunction(t[e])&&n.push(e);return n},M=function(t){return t},C=l.extend(t,{hasClass:U,addClass:b,getAttribute:H,setAttribute:et,removeAttribute:tt,setAttributes:nt,getData:N,setData:rt,width:ut,isString:$,isArray:l.isArray,isEmpty:z,assign:l.extend,merge:Z,cloneDeep:B,compact:P,contains:R,difference:j,functions:O,identity:M,isPlainObject:l.isPlainObject,trim:l.trim}),st=function(t){var e,n,r,i,o,s,a,u;if(null==t)return"";for(r=o=void 0,o=r=a=0,a=(s=t+(u="")).length,i=0;i<a;)n=null,(e=s.charCodeAt(i))<128?r++:n=127<e&&e<2048?String.fromCharCode(e>>6|192,63&e|128):String.fromCharCode(e>>12|224,e>>6&63|128,63&e|128),null!==n&&(o<r&&(u+=s.slice(o,r)),u+=n,o=r=i+1),i++;return o<r&&(u+=s.slice(o,a)),u},L=function(t){var e,n,r,i,o;for(i="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",e=0,e^=-1,n=o=0,r=(t=st(t)).length;n<r;)o=255&(e^t.charCodeAt(n)),e=e>>>8^"0x"+i.substr(9*o,8),n++;return(e^=-1)<0&&(e+=4294967296),e},s=function(){function t(n){var r;this.options={},null!=n&&["resourceType","type","publicId","format"].forEach((r=this,function(t){var e;return r.options[t]=null!=(e=n[t])?e:n[C.snakeCase(t)]}))}return t.prototype.resourceType=function(t){return this.options.resourceType=t,this},t.prototype.type=function(t){return this.options.type=t,this},t.prototype.publicId=function(t){return this.options.publicId=t,this},t.prototype.getPublicId=function(){var t;return null!=(t=this.options.publicId)?t.replace(/\//g,":"):void 0},t.prototype.getFullPublicId=function(){return null!=this.options.format?this.getPublicId()+"."+this.options.format:this.getPublicId()},t.prototype.format=function(t){return this.options.format=t,this},t.prototype.toString=function(){var t;if(t=[],null==this.options.publicId)throw"Must supply publicId";return"image"!==this.options.resourceType&&t.push(this.options.resourceType),"upload"!==this.options.type&&t.push(this.options.type),t.push(this.getFullPublicId()),C.compact(t).join(":")},t}(),o=function(){function e(t){e.__super__.constructor.call(this,t),C.isString(t)?this.options.url=t:(null!=t?t.url:void 0)&&(this.options.url=t.url)}return extend(e,s),e.prototype.url=function(t){return this.options.url=t,this},e.prototype.toString=function(){return"fetch:"+F.Util.base64EncodeURL(this.options.url)},e}(),g=function(){function t(n){var r;t.__super__.constructor.call(this,n),null!=n&&["resourceType","resourceType","fontFamily","fontSize","fontWeight","fontStyle","textDecoration","textAlign","stroke","letterSpacing","lineSpacing","text"].forEach((r=this,function(t){var e;return r.options[t]=null!=(e=n[t])?e:n[C.snakeCase(t)]})),this.options.resourceType="text"}return extend(t,s),t.prototype.resourceType=function(){throw"Cannot modify resourceType for text layers"},t.prototype.type=function(){throw"Cannot modify type for text layers"},t.prototype.format=function(){throw"Cannot modify format for text layers"},t.prototype.fontFamily=function(t){return this.options.fontFamily=t,this},t.prototype.fontSize=function(t){return this.options.fontSize=t,this},t.prototype.fontWeight=function(t){return this.options.fontWeight=t,this},t.prototype.fontStyle=function(t){return this.options.fontStyle=t,this},t.prototype.textDecoration=function(t){return this.options.textDecoration=t,this},t.prototype.textAlign=function(t){return this.options.textAlign=t,this},t.prototype.stroke=function(t){return this.options.stroke=t,this},t.prototype.letterSpacing=function(t){return this.options.letterSpacing=t,this},t.prototype.lineSpacing=function(t){return this.options.lineSpacing=t,this},t.prototype.text=function(t){return this.options.text=t,this},t.prototype.toString=function(){var t,e,n,r,i,o,s,a,u,l;if(a=this.textStyleIdentifier(),null!=this.options.publicId&&(r=this.getFullPublicId()),null!=this.options.text){if(e=!C.isEmpty(r),n=!C.isEmpty(a),e&&n||!e&&!n)throw"Must supply either style parameters or a public_id when providing text parameter in a text overlay/underlay, but not both!";for(i=/\$\([a-zA-Z]\w*\)/g,s=0,l=C.smartEscape(this.options.text,/[,\/]/g),u="";o=i.exec(l);)u+=C.smartEscape(l.slice(s,o.index)),u+=o[0],s=o.index+o[0].length;u+=C.smartEscape(l.slice(s))}return t=[this.options.resourceType,a,r,u],C.compact(t).join(":")},t.prototype.textStyleIdentifier=function(){var t;if(t=[],"normal"!==this.options.fontWeight&&t.push(this.options.fontWeight),"normal"!==this.options.fontStyle&&t.push(this.options.fontStyle),"none"!==this.options.textDecoration&&t.push(this.options.textDecoration),t.push(this.options.textAlign),"none"!==this.options.stroke&&t.push(this.options.stroke),C.isEmpty(this.options.letterSpacing)&&!C.isNumberLike(this.options.letterSpacing)||t.push("letter_spacing_"+this.options.letterSpacing),C.isEmpty(this.options.lineSpacing)&&!C.isNumberLike(this.options.lineSpacing)||t.push("line_spacing_"+this.options.lineSpacing),!C.isEmpty(C.compact(t))){if(C.isEmpty(this.options.fontFamily))throw"Must supply fontFamily. "+t;if(C.isEmpty(this.options.fontSize)&&!C.isNumberLike(this.options.fontSize))throw"Must supply fontSize."}return t.unshift(this.options.fontFamily,this.options.fontSize),t=C.compact(t).join("_")},t}(),y=function(){function e(t){e.__super__.constructor.call(this,t),this.options.resourceType="subtitles"}return extend(e,g),e}(),h=function(){function t(t,e,n){null==n&&(n=F.Util.identity),this.name=t,this.shortName=e,this.process=n}return t.prototype.set=function(t){return this.origValue=t,this},t.prototype.serialize=function(){var t,e;return t=this.value(),e=F.Util.isArray(t)||F.Util.isPlainObject(t)||F.Util.isString(t)?!F.Util.isEmpty(t):null!=t,null!=this.shortName&&e?this.shortName+"_"+t:""},t.prototype.value=function(){return this.process(this.origValue)},t.norm_color=function(t){return null!=t?t.replace(/^#/,"rgb:"):void 0},t.prototype.build_array=function(t){return null==t&&(t=[]),F.Util.isArray(t)?t:[t]},t.process_video_params=function(t){var e;switch(t.constructor){case Object:return e="","codec"in t&&(e=t.codec,"profile"in t&&(e+=":"+t.profile,"level"in t&&(e+=":"+t.level))),e;case String:return t;default:return null}},t}(),a=function(){function i(t,e,n,r){null==n&&(n="."),this.sep=n,i.__super__.constructor.call(this,t,e,r)}return extend(i,h),i.prototype.serialize=function(){var r,t,i;return null!=this.shortName?(r=this.value(),F.Util.isEmpty(r)?"":F.Util.isString(r)?this.shortName+"_"+r:(t=function(){var t,e,n;for(n=[],t=0,e=r.length;t<e;t++)i=r[t],F.Util.isFunction(i.serialize)?n.push(i.serialize()):n.push(i);return n}(),this.shortName+"_"+t.join(this.sep))):""},i.prototype.value=function(){var t,e,n,r,i;if(F.Util.isArray(this.origValue)){for(r=[],t=0,e=(n=this.origValue).length;t<e;t++)i=n[t],r.push(this.process(i));return r}return this.process(this.origValue)},i.prototype.set=function(t){return null==t||F.Util.isArray(t)?i.__super__.set.call(this,t):i.__super__.set.call(this,[t])},i}(),w=function(){function i(t,e,n,r){null==e&&(e="t"),null==n&&(n="."),this.sep=n,i.__super__.constructor.call(this,t,e,r)}return extend(i,h),i.prototype.serialize=function(){var t,e,i;return F.Util.isEmpty(this.value())?"":F.Util.allStrings(this.value())?(t=this.value().join(this.sep),F.Util.isEmpty(t)?"":this.shortName+"_"+t):(e=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.value()).length;t<e;t++)null!=(i=n[t])&&(F.Util.isString(i)&&!F.Util.isEmpty(i)?r.push(this.shortName+"_"+i):F.Util.isFunction(i.serialize)?r.push(i.serialize()):F.Util.isPlainObject(i)&&!F.Util.isEmpty(i)?r.push(new S(i).serialize()):r.push(void 0));return r}.call(this),F.Util.compact(e))},i.prototype.set=function(t){return this.origValue=t,F.Util.isArray(this.origValue)?i.__super__.set.call(this,this.origValue):i.__super__.set.call(this,[this.origValue])},i}(),f=function(){function r(t,e,n){null==n&&(n=this.norm_range_value),r.__super__.constructor.call(this,t,e,n)}return extend(r,h),r.norm_range_value=function(t){var e,n;return(n=String(t).match(new RegExp("^"+offset_any_pattern+"$")))&&(e=null!=n[5]?"p":"",t=(n[1]||n[4])+e),t},r}(),d=function(){function r(t,e,n){null==n&&(n=F.Util.identity),r.__super__.constructor.call(this,t,e,n)}return extend(r,h),r.prototype.serialize=function(){return this.value()},r}(),c=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,h),t.prototype.value=function(){var t;return t=this.origValue,F.Util.isPlainObject(t)?"text"===(t=C.withCamelCaseKeys(t)).resourceType||null!=t.text?new F.TextLayer(t).toString():"subtitles"===t.resourceType?new F.SubtitlesLayer(t).toString():"fetch"===t.resourceType||null!=t.url?new F.FetchLayer(t).toString():new F.Layer(t).toString():/^fetch:.+/.test(t)?new o(t.substr(6)).toString():t},[["font_weight","normal"],["font_style","normal"],["text_decoration","none"],["text_align",null],["stroke","none"],["letter_spacing",null],["line_spacing",null]],t.prototype.textStyle=function(t){return new F.TextLayer(t).textStyleIdentifier()},t}(),r=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,h),t.prototype.serialize=function(){return _.normalize(t.__super__.serialize.call(this))},t}(),(J={}).Param=h,J.ArrayParam=a,J.RangeParam=f,J.RawParam=d,J.TransformationParam=w,J.LayerParam=c,J.ExpressionParam=r,_=function(){function r(t){this.expressions=[],null!=t&&this.expressions.push(r.normalize(t))}return r.OPERATORS={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or","*":"mul","/":"div","+":"add","-":"sub"},r.PREDEFINED_VARS={aspect_ratio:"ar",aspectRatio:"ar",current_page:"cp",currentPage:"cp",face_count:"fc",faceCount:"fc",height:"h",initial_aspect_ratio:"iar",initial_height:"ih",initial_width:"iw",initialAspectRatio:"iar",initialHeight:"ih",initialWidth:"iw",page_count:"pc",page_x:"px",page_y:"py",pageCount:"pc",pageX:"px",pageY:"py",tags:"tags",width:"w"},r.BOUNDRY="[ _]+",r["new"]=function(t){return new this(t)},r.normalize=function(t){var e,n;return null==t?t:(t=String(t),e="(("+"\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*"+")(?=[ _])|"+Object.keys(r.PREDEFINED_VARS).join("|")+")",n=new RegExp(e,"g"),(t=t.replace(n,function(t){return r.OPERATORS[t]||r.PREDEFINED_VARS[t]})).replace(/[ _]+/g,"_"))},r.prototype.serialize=function(){return r.normalize(this.expressions.join("_"))},r.prototype.toString=function(){return this.serialize()},r.prototype.getParent=function(){return this.parent},r.prototype.setParent=function(t){return this.parent=t,this},r.prototype.predicate=function(t,e,n){return null!=r.OPERATORS[e]&&(e=r.OPERATORS[e]),this.expressions.push(t+"_"+e+"_"+n),this},r.prototype.and=function(){return this.expressions.push("and"),this},r.prototype.or=function(){return this.expressions.push("or"),this},r.prototype.then=function(){return this.getParent()["if"](this.toString())},r.prototype.height=function(t,e){return this.predicate("h",t,e)},r.prototype.width=function(t,e){return this.predicate("w",t,e)},r.prototype.aspectRatio=function(t,e){return this.predicate("ar",t,e)},r.prototype.pageCount=function(t,e){return this.predicate("pc",t,e)},r.prototype.faceCount=function(t,e){return this.predicate("fc",t,e)},r.prototype.value=function(t){return this.expressions.push(t),this},r.variable=function(t,e){return new this(t).value(e)},r.width=function(){return new this("width")},r.height=function(){return new this("height")},r.initialWidth=function(){return new this("initialWidth")},r.initialHeight=function(){return new this("initialHeight")},r.aspectRatio=function(){return new this("aspectRatio")},r.initialAspectRatio=function(){return new this("initialAspectRatio")},r.pageCount=function(){return new this("pageCount")},function(){return new this("faceCount")},r.currentPage=function(){return new this("currentPage")},r.tags=function(){return new this("tags")},r.pageX=function(){return new this("pageX")},r.pageY=function(){return new this("pageY")},r}(),u=function(){function e(t){e.__super__.constructor.call(this,t)}return extend(e,_),e.prototype.height=function(t,e){return this.predicate("h",t,e)},e.prototype.width=function(t,e){return this.predicate("w",t,e)},e.prototype.aspectRatio=function(t,e){return this.predicate("ar",t,e)},e.prototype.pageCount=function(t,e){return this.predicate("pc",t,e)},e.prototype.faceCount=function(t,e){return this.predicate("fc",t,e)},e}(),i=function(){function t(t){null==t&&(t={}),this.configuration=C.cloneDeep(t),C.defaults(this.configuration,e)}var e,n;return e={responsive_class:"cld-responsive",responsive_use_breakpoints:!0,round_dpr:!0,secure:"https:"===("undefined"!=typeof window&&null!==window&&null!=(n=window.location)?n.protocol:void 0)},t.CONFIG_PARAMS=["api_key","api_secret","callback","cdn_subdomain","cloud_name","cname","private_cdn","protocol","resource_type","responsive","responsive_class","responsive_use_breakpoints","responsive_width","round_dpr","secure","secure_cdn_subdomain","secure_distribution","shorten","type","upload_preset","url_suffix","use_root_path","version"],t.prototype.init=function(){return this.fromEnvironment(),this.fromDocument(),this},t.prototype.set=function(t,e){return this.configuration[t]=e,this},t.prototype.get=function(t){return this.configuration[t]},t.prototype.merge=function(t){return null==t&&(t={}),C.assign(this.configuration,C.cloneDeep(t)),this},t.prototype.fromDocument=function(){var t,e,n,r;if(r="undefined"!=typeof document&&null!==document?document.querySelectorAll('meta[name^="cloudinary_"]'):void 0)for(e=0,n=r.length;e<n;e++)t=r[e],this.configuration[t.getAttribute("name").replace("cloudinary_","")]=t.getAttribute("content");return this},t.prototype.fromEnvironment=function(){var t,e,n,r,i,o,s,a,u,l;if(null!=(t="undefined"!=typeof process&&null!==process&&null!=(o=process.env)?o.CLOUDINARY_URL:void 0)&&(u=/cloudinary:\/\/(?:(\w+)(?:\:([\w-]+))?@)?([\w\.-]+)(?:\/([^?]*))?(?:\?(.+))?/.exec(t))&&(null!=u[3]&&(this.configuration.cloud_name=u[3]),null!=u[1]&&(this.configuration.api_key=u[1]),null!=u[2]&&(this.configuration.api_secret=u[2]),null!=u[4]&&(this.configuration.private_cdn=null!=u[4]),null!=u[4]&&(this.configuration.secure_distribution=u[4]),null!=(i=u[5])))for(e=0,r=(s=i.split("&")).length;e<r;e++)n=(a=s[e].split("="))[0],null==(l=a[1])&&(l=!0),this.configuration[n]=l;return this},t.prototype.config=function(t,e){switch(!1){case void 0===e:return this.set(t,e),this.configuration;case!C.isString(t):return this.get(t);case!C.isPlainObject(t):return this.merge(t),this.configuration;default:return this.configuration}},t.prototype.toOptions=function(){return C.cloneDeep(this.configuration)},t}(),v=function(){function o(t){var e,u;null==t&&(t={}),e=void 0,u={},this.toOptions||(this.toOptions=function(t){var e,n,r,i,o,s,a;for(e in null==t&&(t=!0),r={},u)a=u[e],r[e]=a.origValue;for(e in i=this.otherOptions)void 0!==(a=i[e])&&(r[e]=a);if(t&&!C.isEmpty(this.chained)){for(e in(n=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.chained).length;t<e;t++)s=n[t],r.push(s.toOptions());return r}.call(this)).push(r),r={},o=this.otherOptions)void 0!==(a=o[e])&&(r[e]=a);r.transformation=n}return r}),this.setParent||(this.setParent=function(t){return null!=(e=t)&&this.fromOptions("function"==typeof t.toOptions?t.toOptions():void 0),this}),this.getParent||(this.getParent=function(){return e}),this.param||(this.param=function(t,e,n,r,i){return null==i&&(i=C.isFunction(r)?r:C.identity),u[e]=new h(e,n,i).set(t),this}),this.rawParam||(this.rawParam=function(t,e,n,r,i){return null==i&&(i=C.identity),i=s(arguments),u[e]=new d(e,n,i).set(t),this}),this.rangeParam||(this.rangeParam=function(t,e,n,r,i){return null==i&&(i=C.identity),i=s(arguments),u[e]=new f(e,n,i).set(t),this}),this.arrayParam||(this.arrayParam=function(t,e,n,r,i,o){return null==r&&(r=":"),null==i&&(i=[]),null==o&&(o=C.identity),o=s(arguments),u[e]=new a(e,n,r,o).set(t),this}),this.transformationParam||(this.transformationParam=function(t,e,n,r,i,o){return null==r&&(r="."),null==o&&(o=C.identity),o=s(arguments),u[e]=new w(e,n,r,o).set(t),this}),this.layerParam||(this.layerParam=function(t,e,n){return u[e]=new c(e,n).set(t),this}),this.getValue||(this.getValue=function(t){var e,n;return null!=(e=null!=(n=u[t])?n.value():void 0)?e:this.otherOptions[t]}),this.get||(this.get=function(t){return u[t]}),this.remove||(this.remove=function(t){var e;switch(!1){case null==u[t]:return e=u[t],delete u[t],e.origValue;case null==this.otherOptions[t]:return e=this.otherOptions[t],delete this.otherOptions[t],e;default:return null}}),this.keys||(this.keys=function(){var e;return function(){var t;for(e in t=[],u)null!=e&&t.push(e.match(v)?e:C.snakeCase(e));return t}().sort()}),this.toPlainObject||(this.toPlainObject=function(){var t,e,n,i;for(e in t={},u)t[e]=u[e].value(),C.isPlainObject(t[e])&&(t[e]=C.cloneDeep(t[e]));return C.isEmpty(this.chained)||((n=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.chained).length;t<e;t++)i=n[t],r.push(i.toPlainObject());return r}.call(this)).push(t),t={transformation:n}),t}),this.chain||(this.chain=function(){var t;return 0!==Object.getOwnPropertyNames(u).length&&(t=new this.constructor(this.toOptions(!1)),this.resetTransformations(),this.chained.push(t)),this}),this.resetTransformations||(this.resetTransformations=function(){return u={},this}),this.otherOptions||(this.otherOptions={}),this.chained=[],C.isEmpty(t)||this.fromOptions(t)}var v,s,b;return v=/^\$[a-zA-Z0-9]+$/,o.prototype.trans_separator="/",o.prototype.param_separator=",",s=function(t){var e;return e=null!=t?t[t.length-1]:void 0,C.isFunction(e)?e:void 0},o.prototype.fromOptions=function(t){var e,n;if(t instanceof o)this.fromTransformation(t);else for(e in t||(t={}),(C.isString(t)||C.isArray(t))&&(t={transformation:t}),(t=C.cloneDeep(t,function(t){if(t instanceof o)return new t.constructor(t.toOptions())}))["if"]&&(this.set("if",t["if"]),delete t["if"]),t)n=t[e],e.match(v)?"$attr"!==e&&this.set("variable",e,n):this.set(e,n);return this},o.prototype.fromTransformation=function(t){var e,n,r,i;if(t instanceof o)for(e=0,r=(i=t.keys()).length;e<r;e++)n=i[e],this.set(n,t.get(n).origValue);return this},o.prototype.set=function(t){var e,n,r;return n=t,r=2<=arguments.length?slice.call(arguments,1):[],e=C.camelCase(n),C.contains(S.methods,e)?this[e].apply(this,r):this.otherOptions[n]=r[0],this},o.prototype.hasLayer=function(){return this.getValue("overlay")||this.getValue("underlay")},o.prototype.serialize=function(){var t,e,n,r,i,o,s,a,u,l,c,p,h,f,d,m,y,g;for(l=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.chained).length;t<e;t++)p=n[t],r.push(p.serialize());return r}.call(this),r=this.keys(),d=null!=(i=this.get("transformation"))?i.serialize():void 0,t=null!=(o=this.get("if"))?o.serialize():void 0,y=b(null!=(s=this.get("variables"))?s.value():void 0),r=C.difference(r,["transformation","if","variables"]),g=[],h=[],e=0,n=r.length;e<n;e++)(c=r[e]).match(v)?g.push(c+"_"+_.normalize(null!=(a=this.get(c))?a.value():void 0)):h.push(null!=(u=this.get(c))?u.serialize():void 0);switch(!1){case!C.isString(d):h.push(d);break;case!C.isArray(d):l=l.concat(d)}return h=function(){var t,e,n;for(n=[],t=0,e=h.length;t<e;t++)m=h[t],(C.isArray(m)&&!C.isEmpty(m)||!C.isArray(m)&&m)&&n.push(m);return n}(),h=g.sort().concat(y).concat(h.sort()),"if_end"===t?h.push(t):C.isEmpty(t)||h.unshift(t),f=C.compact(h).join(this.param_separator),C.isEmpty(f)||l.push(f),C.compact(l).join(this.trans_separator)},o.prototype.listNames=function(){return S.methods},o.prototype.toHtmlAttributes=function(){var t,e,n,r,i,o,s,a,u,l;for(n in i={},o=this.otherOptions)l=o[n],C.contains(S.PARAM_NAMES,C.snakeCase(n))||(i[/^html_/.test(n)?n.slice(5):n]=l);for(e=0,r=(s=this.keys()).length;e<r;e++)n=s[e],/^html_/.test(n)&&(i[C.camelCase(n.slice(5))]=this.getValue(n));return this.hasLayer()||this.getValue("angle")||C.contains(["fit","limit","lfill"],this.getValue("crop"))||(ut=null!=(a=this.get("width"))?a.origValue:void 0,t=null!=(u=this.get("height"))?u.origValue:void 0,1<=parseFloat(ut)&&null==i.width&&(i.width=ut),1<=parseFloat(t)&&null==i.height&&(i.height=t)),i},o.prototype.isValidParamName=function(t){return 0<=S.methods.indexOf(C.camelCase(t))},o.prototype.toHtml=function(){var t;return null!=(t=this.getParent())&&"function"==typeof t.toHtml?t.toHtml():void 0},o.prototype.toString=function(){return this.serialize()},b=function(t){var e,n,r,i,o,s;if(C.isArray(t)){for(o=[],e=0,n=t.length;e<n;e++)r=(i=t[e])[0],s=i[1],o.push(r+"_"+_.normalize(s));return o}return t},o}(),(S=function(){function s(t){null==t&&(t={}),s.__super__.constructor.call(this,t)}return extend(s,v),s["new"]=function(t){return new s(t)},s.prototype.angle=function(t){return this.arrayParam(t,"angle","a",".",_.normalize)},s.prototype.audioCodec=function(t){return this.param(t,"audio_codec","ac")},s.prototype.audioFrequency=function(t){return this.param(t,"audio_frequency","af")},s.prototype.aspectRatio=function(t){return this.param(t,"aspect_ratio","ar",_.normalize)},s.prototype.background=function(t){return this.param(t,"background","b",h.norm_color)},s.prototype.bitRate=function(t){return this.param(t,"bit_rate","br")},s.prototype.border=function(t){return this.param(t,"border","bo",function(t){return C.isPlainObject(t)?(t=C.assign({},{color:"black",width:2},t)).width+"px_solid_"+h.norm_color(t.color):t})},s.prototype.color=function(t){return this.param(t,"color","co",h.norm_color)},s.prototype.colorSpace=function(t){return this.param(t,"color_space","cs")},s.prototype.crop=function(t){return this.param(t,"crop","c")},s.prototype.defaultImage=function(t){return this.param(t,"default_image","d")},s.prototype.delay=function(t){return this.param(t,"delay","dl")},s.prototype.density=function(t){return this.param(t,"density","dn")},s.prototype.duration=function(t){return this.rangeParam(t,"duration","du")},s.prototype.dpr=function(t){return this.param(t,"dpr","dpr",function(t){return(null!=(t=t.toString())?t.match(/^\d+$/):void 0)?t+".0":_.normalize(t)})},s.prototype.effect=function(t){return this.arrayParam(t,"effect","e",":",_.normalize)},s.prototype["else"]=function(){return this["if"]("else")},s.prototype.endIf=function(){return this["if"]("end")},s.prototype.endOffset=function(t){return this.rangeParam(t,"end_offset","eo")},s.prototype.fallbackContent=function(t){return this.param(t,"fallback_content")},s.prototype.fetchFormat=function(t){return this.param(t,"fetch_format","f")},s.prototype.format=function(t){return this.param(t,"format")},s.prototype.flags=function(t){return this.arrayParam(t,"flags","fl",".")},s.prototype.gravity=function(t){return this.param(t,"gravity","g")},s.prototype.height=function(t){return this.param(t,"height","h",(e=this,function(){return e.getValue("crop")||e.getValue("overlay")||e.getValue("underlay")?_.normalize(t):null}));var e},s.prototype.htmlHeight=function(t){return this.param(t,"html_height")},s.prototype.htmlWidth=function(t){return this.param(t,"html_width")},s.prototype["if"]=function(t){var e,n,r,i,o;switch(null==t&&(t=""),t){case"else":return this.chain(),this.param(t,"if","if");case"end":for(this.chain(),e=r=this.chained.length-1;0<=r&&"end"!==(n=this.chained[e].getValue("if"))&&(null==n||(i=s["new"]()["if"](n),this.chained[e].remove("if"),o=this.chained[e],this.chained[e]=s["new"]().transformation([i,o]),"else"===n));e=r+=-1);return this.param(t,"if","if");case"":return u["new"]().setParent(this);default:return this.param(t,"if","if",function(t){return u["new"](t).toString()})}},s.prototype.keyframeInterval=function(t){return this.param(t,"keyframe_interval","ki")},s.prototype.offset=function(t){var e,n,r;if(r=(n=C.isFunction(null!=t?t.split:void 0)?t.split(".."):C.isArray(t)?t:[null,null])[0],e=n[1],null!=r&&this.startOffset(r),null!=e)return this.endOffset(e)},s.prototype.opacity=function(t){return this.param(t,"opacity","o",_.normalize)},s.prototype.overlay=function(t){return this.layerParam(t,"overlay","l")},s.prototype.page=function(t){return this.param(t,"page","pg")},s.prototype.poster=function(t){return this.param(t,"poster")},s.prototype.prefix=function(t){return this.param(t,"prefix","p")},s.prototype.quality=function(t){return this.param(t,"quality","q",_.normalize)},s.prototype.radius=function(t){return this.param(t,"radius","r",_.normalize)},s.prototype.rawTransformation=function(t){return this.rawParam(t,"raw_transformation")},s.prototype.size=function(t){var e,n;if(C.isFunction(null!=t?t.split:void 0))return n=t.split("x"),ut=n[0],e=n[1],this.width(ut),this.height(e)},s.prototype.sourceTypes=function(t){return this.param(t,"source_types")},s.prototype.sourceTransformation=function(t){return this.param(t,"source_transformation")},s.prototype.startOffset=function(t){return this.rangeParam(t,"start_offset","so")},s.prototype.streamingProfile=function(t){return this.param(t,"streaming_profile","sp")},s.prototype.transformation=function(t){return this.transformationParam(t,"transformation","t")},s.prototype.underlay=function(t){return this.layerParam(t,"underlay","u")},s.prototype.variable=function(t,e){return this.param(e,t,t)},s.prototype.variables=function(t){return this.arrayParam(t,"variables")},s.prototype.videoCodec=function(t){return this.param(t,"video_codec","vc",h.process_video_params)},s.prototype.videoSampling=function(t){return this.param(t,"video_sampling","vs")},s.prototype.width=function(t){return this.param(t,"width","w",(e=this,function(){return e.getValue("crop")||e.getValue("overlay")||e.getValue("underlay")?_.normalize(t):null}));var e},s.prototype.x=function(t){return this.param(t,"x","x",_.normalize)},s.prototype.y=function(t){return this.param(t,"y","y",_.normalize)},s.prototype.zoom=function(t){return this.param(t,"zoom","z",_.normalize)},s}()).methods||(S.methods=C.difference(C.functions(S.prototype),C.functions(v.prototype))),S.PARAM_NAMES||(S.PARAM_NAMES=function(){var t,e,n,r;for(r=[],t=0,e=(n=S.methods).length;t<e;t++)Q=n[t],r.push(C.snakeCase(Q));return r}().concat(i.CONFIG_PARAMS)),A=function(){function t(t,e,n){var r;this.name=t,this.publicId=e,null==n&&(C.isPlainObject(e)?(n=e,this.publicId=void 0):n={}),(r=new S(n)).setParent(this),this.transformation=function(){return r}}var i;return t["new"]=function(t,e,n){return new this(t,e,n)},i=function(t,e){return e?!0===e?t:t+'="'+e+'"':void 0},t.prototype.htmlAttrs=function(e){var n,r;return function(){var t;for(n in t=[],e)(r=e[n])&&t.push(i(n,r));return t}().sort().join(" ")},t.prototype.getOptions=function(){return this.transformation().toOptions()},t.prototype.getOption=function(t){return this.transformation().getValue(t)},t.prototype.attributes=function(){return this.transformation().toHtmlAttributes()},t.prototype.setAttr=function(t,e){return this.transformation().set("html_"+t,e),this},t.prototype.getAttr=function(t){return this.attributes()["html_"+t]||this.attributes()[t]},t.prototype.removeAttr=function(t){var e;return null!=(e=this.transformation().remove("html_"+t))?e:this.transformation().remove(t)},t.prototype.content=function(){return""},t.prototype.openTag=function(){return"<"+this.name+" "+this.htmlAttrs(this.attributes())+">"},t.prototype.closeTag=function(){return"</"+this.name+">"},t.prototype.toHtml=function(){return this.openTag()+this.content()+this.closeTag()},t.prototype.toDOM=function(){var t,e,n,r;if(!C.isFunction("undefined"!=typeof document&&null!==document?document.createElement:void 0))throw"Can't create DOM if document is not present!";for(e in t=document.createElement(this.name),n=this.attributes())r=n[e],t[e]=r;return t},t.isResponsive=function(t,e){var n;return n=C.getData(t,"src-cache")||C.getData(t,"src"),C.hasClass(t,e)&&/\bw_auto\b/.exec(n)},t}(),m=function(){function r(t,e){null==e&&(e={}),r.__super__.constructor.call(this,"img",t,e)}return extend(r,A),r.prototype.closeTag=function(){return""},r.prototype.attributes=function(){var t,e,n;return null==(t=r.__super__.attributes.call(this)||[])[n=(e=this.getOptions()).responsive&&!e.client_hints?"data-src":"src"]&&(t[n]=new p(this.getOptions()).url(this.publicId)),t},r}(),D=function(){function u(t,e){null==e&&(e={}),e=C.defaults({},e,p.DEFAULT_VIDEO_PARAMS),u.__super__.constructor.call(this,"video",t.replace(/\.(mp4|ogv|webm)$/,""),e)}var l,c;return extend(u,A),c=["source_types","source_transformation","fallback_content","poster"],["webm","mp4","ogv"],l={format:"jpg",resource_type:"video"},u.prototype.setSourceTransformation=function(t){return this.transformation().sourceTransformation(t),this},u.prototype.setSourceTypes=function(t){return this.transformation().sourceTypes(t),this},u.prototype.setPoster=function(t){return this.transformation().poster(t),this},u.prototype.setFallbackContent=function(t){return this.transformation().fallbackContent(t),this},u.prototype.content=function(){var r,t,e,i,o,s,a,u,l;return s=this.transformation().getValue("source_types"),o=this.transformation().getValue("source_transformation"),t=this.transformation().getValue("fallback_content"),C.isArray(s)?(r=new p(this.getOptions()),e=function(){var t,e,n;for(n=[],t=0,e=s.length;t<e;t++)u=s[t],l=o[u]||{},a=r.url(""+this.publicId,C.defaults({},l,{resource_type:"video",format:u})),i="video/"+("ogv"===u?"ogg":u),n.push("<source "+this.htmlAttrs({src:a,type:i})+">");return n}.call(this)):e=[],e.join("")+t},u.prototype.attributes=function(){var t,e,n,r,i,o,s,a;for(a=this.getOption("source_types"),i=null!=(o=this.getOption("poster"))?o:{},C.isPlainObject(i)&&(I=null!=i.public_id?p.DEFAULT_IMAGE_PARAMS:l,i=new p(this.getOptions()).url(null!=(s=i.public_id)?s:this.publicId,C.defaults({},i,I))),n=0,r=(e=u.__super__.attributes.call(this)||[]).length;n<r;n++)t=e[n],C.contains(c)||(e=t);return C.isArray(a)||(e.src=new p(this.getOptions()).url(this.publicId,{resource_type:"video",format:a})),null!=i&&(e.poster=i),e},u}(),e=function(){function e(t){e.__super__.constructor.call(this,"meta",void 0,C.assign({"http-equiv":"Accept-CH",content:"DPR, Viewport-Width, Width"},t))}return extend(e,A),e.prototype.closeTag=function(){return""},e}(),p=function(){function l(t){var n;this.devicePixelRatioCache={},this.responsiveConfig={},this.responsiveResizeInitialized=!1,n=new i(t),
this.config=function(t,e){return n.config(t,e)},this.fromDocument=function(){return n.fromDocument(),this},this.fromEnvironment=function(){return n.fromEnvironment(),this},this.init=function(){return n.init(),this}}var n,t,u,a,c,p,b,h,r,f,s,d,_,w,E;return"2.5.0","d3jpl91pxevbkh.cloudfront.net",u="cloudinary-a.akamaihd.net",c="res.cloudinary.com",n={format:"jpg",resource_type:"video"},t=["webm","mp4","ogv"],a={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"},l.DEFAULT_IMAGE_PARAMS={resource_type:"image",transformation:[],type:"upload"},l.DEFAULT_VIDEO_PARAMS={fallback_content:"",resource_type:"video",source_transformation:{},source_types:t,transformation:[],type:"upload"},l["new"]=function(t){return new this(t)},d=function(t,e,n,r,i){var o,s;if(null==t&&(t="image"),null==e&&(e="upload"),C.isPlainObject(t)&&(t=(s=t).resource_type,e=s.type,n=s.url_suffix,r=s.use_root_path,i=s.shorten),null==e&&(e="upload"),null!=n&&(t=a[t+"/"+e],(e=null)==t))throw new Error("URL Suffix only supported for "+function(){var t;for(o in t=[],a)t.push(o);return t}().join(", "));if(r){if(("image"!==t||"upload"!==e)&&"images"!==t)throw new Error("Root path only supported for image/upload");e=t=null}return i&&"image"===t&&"upload"===e&&(t="iu",e=null),[t,e].join("/")},p=function(t){var e;return t.match(/^https?:\//)||(e=document.location.protocol+"//"+document.location.host,"?"===t[0]?e+=document.location.pathname:"/"!==t[0]&&(e+=document.location.pathname.replace(/\/[^\/]*$/,"/")),t=e+t),t},l.prototype.url=function(t,e){var n,r,i,o,s,a,u;if(null==e&&(e={}),!t)return t;if(e instanceof S&&(e=e.toOptions()),"fetch"===(e=C.defaults({},e,this.config(),l.DEFAULT_IMAGE_PARAMS)).type&&(e.fetch_format=e.fetch_format||e.format,t=p(t)),s=new S(e).serialize(),!e.cloud_name)throw"Unknown cloud_name";if(0<=t.search("/")&&!t.match(/^v[0-9]+/)&&!t.match(/^https?:\//)&&!(null!=(i=e.version)?i.toString():void 0)&&(e.version=1),t.match(/^https?:/))"upload"===e.type||"asset"===e.type?a=t:t=encodeURIComponent(t).replace(/%3A/g,":").replace(/%2F/g,"/");else{try{t=decodeURIComponent(t)}catch(n){n}if(t=encodeURIComponent(t).replace(/%3A/g,":").replace(/%2F/g,"/"),e.url_suffix){if(e.url_suffix.match(/[\.\/]/))throw"url_suffix should not include . or /";t=t+"/"+e.url_suffix}e.format&&(e.trust_public_id||(t=t.replace(/\.(jpg|png|gif|webp)$/,"")),t=t+"."+e.format)}return r=f(t,e),o=d(e.resource_type,e.type,e.url_suffix,e.use_root_path,e.shorten),u=e.version?"v"+e.version:"",a||C.compact([r,o,s,u,t]).join("/").replace(/([^:])\/+/g,"$1/")},l.prototype.video_url=function(t,e){return e=C.assign({resource_type:"video"},e),this.url(t,e)},l.prototype.video_thumbnail_url=function(t,e){return e=C.assign({},n,e),this.url(t,e)},l.prototype.transformation_string=function(t){return new S(t).serialize()},l.prototype.image=function(t,e){var n,r,i,o;return null==e&&(e={}),r=this.imageTag(t,e),n=null!=(i=null!=(o=e.client_hints)?o:this.config("client_hints"))&&i,null!=e.src||n||r.setAttr("src",""),r=r.toDOM(),n||(C.setData(r,"src-cache",this.url(t,e)),this.cloudinary_update(r,e)),r},l.prototype.imageTag=function(t,e){var n;return(n=new m(t,this.config())).transformation().fromOptions(e),n},l.prototype.video_thumbnail=function(t,e){return this.image(t,C.merge({},n,e))},l.prototype.facebook_profile_image=function(t,e){return this.image(t,C.assign({type:"facebook"},e))},l.prototype.twitter_profile_image=function(t,e){return this.image(t,C.assign({type:"twitter"},e))},l.prototype.twitter_name_profile_image=function(t,e){return this.image(t,C.assign({type:"twitter_name"},e))},l.prototype.gravatar_image=function(t,e){return this.image(t,C.assign({type:"gravatar"},e))},l.prototype.fetch_image=function(t,e){return this.image(t,C.assign({type:"fetch"},e))},l.prototype.video=function(t,e){return null==e&&(e={}),this.videoTag(t,e).toHtml()},l.prototype.videoTag=function(t,e){return e=C.defaults({},e,this.config()),new D(t,e)},l.prototype.sprite_css=function(t,e){return e=C.assign({type:"sprite"},e),t.match(/.css$/)||(e.format="css"),this.url(t,e)},l.prototype.responsive=function(t,e){var n,r,i,s,a,u;if(null==e&&(e=!0),this.responsiveConfig=C.merge(this.responsiveConfig||{},t),s=null!=(n=this.responsiveConfig.responsive_class)?n:this.config("responsive_class"),e&&this.cloudinary_update("img."+s+", img.cld-hidpi",this.responsiveConfig),(null==(r=null!=(i=this.responsiveConfig.responsive_resize)?i:this.config("responsive_resize"))||r)&&!this.responsiveResizeInitialized)return this.responsiveConfig.resizing=this.responsiveResizeInitialized=!0,a=null,window.addEventListener("resize",(u=this,function(){var t,e,n,r,i,o;return t=null!=(e=null!=(n=u.responsiveConfig.responsive_debounce)?n:u.config("responsive_debounce"))?e:100,r=function(){if(a)return clearTimeout(a),a=null},i=function(){return u.cloudinary_update("img."+s,u.responsiveConfig)},o=function(){return r(),i()},t?(r(),a=setTimeout(o,t)):i()}))},l.prototype.calc_breakpoint=function(t,e,n){var i,o;return i=C.getData(t,"breakpoints")||C.getData(t,"stoppoints")||this.config("breakpoints")||this.config("stoppoints")||s,C.isFunction(i)?i(e,n):(C.isString(i)&&(i=function(){var t,e,n,r;for(r=[],t=0,e=(n=i.split(",")).length;t<e;t++)o=n[t],r.push(parseInt(o));return r}().sort(function(t,e){return t-e})),r(i,e))},l.prototype.calc_stoppoint=l.prototype.calc_breakpoint,l.prototype.device_pixel_ratio=function(t){var e,n;return null==t&&(t=!0),e=("undefined"!=typeof window&&null!==window?window.devicePixelRatio:void 0)||1,t&&(e=Math.ceil(e)),(e<=0||e===NaN)&&(e=1),(n=e.toString()).match(/^\d+$/)&&(n+=".0"),n},s=function(t,e){return null==e&&(e=100),e*Math.ceil(t/e)},r=function(t,e){var n;for(n=t.length-2;0<=n&&t[n]>=e;)n--;return t[n+1]},h=function(t){return L(t)%5+1},f=function(t,e){var n,r,i,o,s,a;return 0===(null!=(s=e.cloud_name)?s.indexOf("/"):void 0)?"/res"+e.cloud_name:(o="http://",n="",a="res",r=".cloudinary.com",i="/"+e.cloud_name,e.protocol&&(o=e.protocol+"//"),e.private_cdn&&(n=e.cloud_name+"-",i=""),e.cdn_subdomain&&(a="res-"+h(t)),e.secure?(!(o="https://")===e.secure_cdn_subdomain&&(a="res"),null!=e.secure_distribution&&e.secure_distribution!==u&&e.secure_distribution!==c&&(a=n="",r=e.secure_distribution)):e.cname&&(o="http://",n="",a=e.cdn_subdomain?"a"+(L(t)%5+1)+".":"",r=e.cname),[o,n,a,r,i].join(""))},l.prototype.processImageTags=function(i,o){var t,s,a,u,l;return null==o&&(o={}),C.isEmpty(i)||(o=C.defaults({},o,this.config()),t=function(){var t,e,n,r;for(r=[],t=0,e=i.length;t<e;t++)"IMG"===(null!=(n=(a=i[t]).tagName)?n.toUpperCase():void 0)&&(s=C.assign({width:a.getAttribute("width"),height:a.getAttribute("height"),src:a.getAttribute("src")},o),u=s.source||s.src,delete s.source,delete s.src,l=this.url(u,s),s=new S(s).toHtmlAttributes(),C.setData(a,"src-cache",l),a.setAttribute("width",s.width),a.setAttribute("height",s.height),r.push(a));return r}.call(this),this.cloudinary_update(t,o)),this},b=function(t,e,n,r){var i,o,s,a;return!(a=null!=(i=null!=(o=null!=(s=r.responsive_use_breakpoints)?s:r.responsive_use_stoppoints)?o:this.config("responsive_use_breakpoints"))?i:this.config("responsive_use_stoppoints"))||"resize"===a&&!r.resizing?e:this.calc_breakpoint(t,e,n)},_=function(t){var e,n;for(e=0;(t=null!=t?t.parentNode:void 0)instanceof Element&&!e;)n=window.getComputedStyle(t),/^inline/.test(n.display)||(e=C.width(t));return e},E=function(t,e){return t.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+this.device_pixel_ratio(e))},w=function(t,e){var n;return(n=C.getData(e,"width")||0)<t&&(n=t,C.setData(e,"width",t)),n},l.prototype.cloudinary_update=function(t,e){var n,r,i,o,s,a,u,l,c,p,h,f,d,m,y,g,v;if(null==e&&(e={}),null===t)return this;for(d=null!=(a=null!=(u=e.responsive)?u:this.config("responsive"))&&a,t=function(){switch(!1){case!C.isArray(t):case"NodeList"!==t.constructor.name:return t;case!C.isString(t):return document.querySelectorAll(t);default:return[t]}}(),m=null!=(l=null!=(c=this.responsiveConfig.responsive_class)?c:e.responsive_class)?l:this.config("responsive_class"),y=null!=(p=e.round_dpr)?p:this.config("round_dpr"),i=0,o=t.length;i<o;i++)if((null!=(h=(v=t[i]).tagName)?h.match(/img/i):void 0)&&(g=!0,d&&C.addClass(v,m),r=C.getData(v,"src-cache")||C.getData(v,"src"),!C.isEmpty(r))){if(r=E.call(this,r,y),A.isResponsive(v,m))if(0!==(n=_(v))){switch(!1){case!/w_auto:breakpoints/.test(r):f=w(n,v),r=r.replace(/w_auto:breakpoints([_0-9]*)(:[0-9]+)?/,"w_auto:breakpoints$1:"+f);break;case!(s=/w_auto(:(\d+))?/.exec(r)):f=b.call(this,v,n,s[2],e),f=w(f,v),r=r.replace(/w_auto[^,\/]*/g,"w_"+f)}C.removeAttribute(v,"width"),e.responsive_preserve_height||C.removeAttribute(v,"height")}else g=!1;g&&C.setAttribute(v,"src",r)}return this},l.prototype.transformation=function(t){return S["new"](this.config()).fromOptions(t).setParent(this)},l}(),n=function(){function e(t){e.__super__.constructor.call(this,t)}return extend(e,p),e.prototype.image=function(t,e){var n,r,i,o;return null==e&&(e={}),r=this.imageTag(t,e),n=null!=(i=null!=(o=e.client_hints)?o:this.config("client_hints"))&&i,null!=e.src||n||r.setAttr("src",""),r=l(r.toHtml()),n||r.data("src-cache",this.url(t,e)).cloudinary_update(e),r},e.prototype.responsive=function(t){var e,n,r,o,s,i,a,u;if(s=l.extend(s||{},t),o=null!=(e=this.responsiveConfig.responsive_class)?e:this.config("responsive_class"),l("img."+o+", img.cld-hidpi").cloudinary_update(s),(null==(n=null!=(r=s.responsive_resize)?r:this.config("responsive_resize"))||n)&&!i)return s.resizing=i=!0,a=null,l(window).on("resize",(u=this,function(){var t,e,n,r,i;return t=null!=(e=null!=(n=s.responsive_debounce)?n:u.config("responsive_debounce"))?e:100,r=function(){if(a)return clearTimeout(a),a=null},i=function(){return l("img."+o).cloudinary_update(s)},t?(r(),setTimeout(function(){return r(),i()},t)):i()}))},e}(),l.fn.cloudinary=function(r){return this.filter("img").each(function(){var t,e,n;return e=(t=l.extend({width:l(this).attr("width"),height:l(this).attr("height"),src:l(this).attr("src")},l(this).data(),r)).source||t.src,delete t.source,delete t.src,n=l.cloudinary.url(e,t),t=new S(t).toHtmlAttributes(),l(this).data("src-cache",n).attr({width:t.width,height:t.height})}).cloudinary_update(r),this},l.fn.cloudinary_update=function(t){return null==t&&(t={}),l.cloudinary.cloudinary_update(this.filter("img").toArray(),t),this},at=null,l.fn.webpify=function(t,e){var n,r;return null==t&&(t={}),n=this,e=null!=e?e:t,at||(at=l.Deferred(),(r=new Image).onerror=at.reject,r.onload=at.resolve,r.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA"),l(function(){return at.done(function(){return l(n).cloudinary(l.extend({},e,{format:"webp"}))}).fail(function(){return l(n).cloudinary(t)})}),this},l.fn.fetchify=function(t){return this.cloudinary(l.extend(t,{type:"fetch"}))},l.cloudinary=new n,l.cloudinary.fromDocument(),n.prototype.delete_by_token=function(t,e){var n,r;return(r=(e=e||{}).url)||(r="https://api.cloudinary.com/v1_1/"+(e.cloud_name||l.cloudinary.config().cloud_name)+"/delete_by_token"),n=l.support.xhrFileUpload?"json":"iframe json",l.ajax({url:r,method:"POST",data:{token:t},headers:{"X-Requested-With":"XMLHttpRequest"},dataType:n})},n.prototype.unsigned_upload_tag=function(t,e,n){return l("<input/>").attr({type:"file",name:"file"}).unsigned_cloudinary_upload(t,e,n)},l.fn.cloudinary_fileupload=function(t){var e,n;return C.isFunction(l.fn.fileupload)&&((e=!this.data("blueimpFileupload"))&&(t=l.extend({maxFileSize:2e7,dataType:"json",headers:{"X-Requested-With":"XMLHttpRequest"}},t)),this.fileupload(t),e&&(this.bind("fileuploaddone",function(t,e){var n,r,i;if(!e.result.error)return e.result.path=["v",e.result.version,"/",e.result.public_id,e.result.format?"."+e.result.format:""].join(""),e.cloudinaryField&&0<e.form.length&&(i=[e.result.resource_type,e.result.type,e.result.path].join("/")+"#"+e.result.signature,n=function(){return l("<input/>").attr({type:"hidden",name:e.cloudinaryField}).val(i).appendTo(e.form)},l(t.target).prop("multiple")?n():0<(r=l(e.form).find('input[name="'+e.cloudinaryField+'"]')).length?r.val(i):n()),l(t.target).trigger("cloudinarydone",e)}),this.bind("fileuploadsend",function(t,e){return e.headers=l.extend({},e.headers,{"X-Unique-Upload-Id":(1e10*Math.random()).toString(16)}),!0}),this.bind("fileuploadstart",function(t){return l(t.target).trigger("cloudinarystart")}),this.bind("fileuploadstop",function(t){return l(t.target).trigger("cloudinarystop")}),this.bind("fileuploadprogress",function(t,e){return l(t.target).trigger("cloudinaryprogress",e)}),this.bind("fileuploadprogressall",function(t,e){return l(t.target).trigger("cloudinaryprogressall",e)}),this.bind("fileuploadfail",function(t,e){return l(t.target).trigger("cloudinaryfail",e)}),this.bind("fileuploadalways",function(t,e){return l(t.target).trigger("cloudinaryalways",e)}),this.fileupload("option").url||(n="https://api.cloudinary.com/v1_1/"+(t.cloud_name||l.cloudinary.config().cloud_name)+"/"+(t.resource_type||"auto")+"/"+(t.type||"upload"),this.fileupload("option","url",n)))),this},l.fn.cloudinary_upload_url=function(t){return C.isFunction(l.fn.fileupload)&&(this.fileupload("option","formData").file=t,this.fileupload("add",{files:[t]}),delete this.fileupload("option","formData").file),this},l.fn.unsigned_cloudinary_upload=function(t,e,n){var r,i,o,s,a,u;for(null==e&&(e={}),null==n&&(n={}),e=C.cloneDeep(e),n=C.cloneDeep(n),i=["cloud_name","resource_type","type"],s=0;s<i.length;)e[r=i[s]]&&(n[r]=e[r],delete e[r]),s++;for(a in e)u=e[a],C.isPlainObject(u)?e[a]=l.map(u,function(t,e){return C.isString(t)&&(t=t.replace(/[\|=]/g,"\\$&")),e+"="+t}).join("|"):C.isArray(u)&&(0<u.length&&l.isArray(u[0])?e[a]=l.map(u,function(t){return t.join(",")}).join("|"):e[a]=u.join(","));return e.callback||(e.callback="/cloudinary_cors.html"),e.upload_preset=t,n.formData=e,n.cloudinary_field&&(n.cloudinaryField=n.cloudinary_field,delete n.cloudinary_field),(o=n.html||{})["class"]=C.trim("cloudinary_fileupload "+(o["class"]||"")),n.multiple&&(o.multiple=!0),this.attr(o).cloudinary_fileupload(n),this},l.cloudinary=new n,F={utf8_encode:st,crc32:L,Util:C,Condition:u,Transformation:S,Configuration:i,HtmlTag:A,ImageTag:m,VideoTag:D,ClientHintsMetaTag:e,Layer:s,FetchLayer:o,TextLayer:g,SubtitlesLayer:y,Cloudinary:p,VERSION:"2.5.0",CloudinaryJQuery:n}});